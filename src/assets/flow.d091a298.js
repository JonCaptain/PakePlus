import{cy as Or,cz as Tr,cA as Dr,cB as Ir,cC as Cr,cD as Ar,cE as Pr,cF as Fr,cG as Rr,cH as Mr,cI as Lr,cJ as Nr,cK as jr,cL as $r,aO as Br,cM as Ur,cN as Vr,cO as Gr,r as fe,cP as Hr,ai as hn,cQ as Kr,cR as Wr,aI as Xr,cS as Yr,cT as zr,cU as kr,cV as Jr,cW as Qr,cX as Zr,u as X,cY as qr,cZ as _r,ax as gn,c_ as to,al as lr,ay as Tt,c$ as eo,d0 as no,d1 as ro,d2 as oo,d3 as ao,d4 as io,d5 as so,av as Vt,d6 as lo,d7 as uo,d8 as co,d9 as fo,da as po,db as vo,dc as ho,dd as go,de as mo,df as yo,aE as bo,aG as jt,az as at,c as K,a as j,dg as So,dh as xo,di as wo,dj as Eo,dk as Oo,h as ne,b as st,dl as To,d as qt,dm as Do,dn as Io,dp as Co,dq as Ao,dr as Po,ds as Fo,dt as Ro,aQ as Pe,du as Mo,dv as Lo,dw as No,dx as jo,dy as $o,dz as Bo,dA as Uo,dB as Vo,dC as Go,dD as Ho,at as Ko,dE as Wo,dF as Xo,dG as Yo,dH as zo,dI as ko,dJ as Jo,an as Qo,dK as Zo,dL as qo,ak as Gn,dM as _o,dN as ta,dO as ea,aj as Se,dP as na,dQ as ra,dR as oa,dS as aa,dT as ia,o as $,dU as sa,aD as la,dV as da,dW as ua,dX as ca,aw as Zt,dY as fa,f as wt,aF as pa,aT as va,dZ as ha,d_ as ga,d$ as ma,e0 as ya,e1 as ba,e2 as Sa,e3 as xa,e4 as wa,e5 as Ea,e6 as Oa,e7 as Ta,e8 as Da,e9 as Ia,ea as Ca,eb as Aa,ec as Pa,ed as Fa,ee as Ra,au as Ce,ef as Ma,eg as La,eh as Na,ei as ja,e as Ft,ej as $a,aA as Je,ek as Ba,el as Ua,em as Va,en as Ga,eo as Ha,ep as Ka,eq as Wa,er as Xa,es as Ya,et as za,eu as ka,ev as Ja,ew as Qa,ex as Za,ey as qa,ez as _a,eA as ti,eB as ei,eC as ni,eD as ri,eE as oi,aB as Qe,w as ai,aS as dn,_ as xe,g as Qt,aK as Ze,aJ as ye,eF as ii,am as si,eG as Lt,aP as dr,ar as ur,ap as li,aq as di,aL as ui,eH as ci,eI as fi,aM as pi,E as Tn,aN as kn,eJ as vi}from"./index.e66d7253.js";import{u as hi,S as gi,g as mi}from"./getUUID.a44c156b.js";/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yi=()=>{},bi=Object.freeze(Object.defineProperty({__proto__:null,compile:yi,EffectScope:Or,ReactiveEffect:Tr,TrackOpTypes:Dr,TriggerOpTypes:Ir,customRef:Cr,effect:Ar,effectScope:Pr,getCurrentScope:Fr,getCurrentWatcher:Rr,isProxy:Mr,isReactive:Lr,isReadonly:Nr,isRef:jr,isShallow:$r,markRaw:Br,onScopeDispose:Ur,onWatcherCleanup:Vr,proxyRefs:Gr,reactive:fe,readonly:Hr,ref:hn,shallowReactive:Kr,shallowReadonly:Wr,shallowRef:Xr,stop:Yr,toRaw:zr,toRef:kr,toRefs:Jr,toValue:Qr,triggerRef:Zr,unref:X,camelize:qr,capitalize:_r,normalizeClass:gn,normalizeProps:to,normalizeStyle:lr,toDisplayString:Tt,toHandlerKey:eo,BaseTransition:no,BaseTransitionPropsValidators:ro,Comment:oo,DeprecationTypes:ao,ErrorCodes:io,ErrorTypeStrings:so,Fragment:Vt,KeepAlive:lo,Static:uo,Suspense:co,Teleport:fo,Text:po,assertNumber:vo,callWithAsyncErrorHandling:ho,callWithErrorHandling:go,cloneVNode:mo,compatUtils:yo,computed:bo,createBlock:jt,createCommentVNode:at,createElementBlock:K,createElementVNode:j,createHydrationRenderer:So,createPropsRestProxy:xo,createRenderer:wo,createSlots:Eo,createStaticVNode:Oo,createTextVNode:ne,createVNode:st,defineAsyncComponent:To,defineComponent:qt,defineEmits:Do,defineExpose:Io,defineModel:Co,defineOptions:Ao,defineProps:Po,defineSlots:Fo,devtools:Ro,getCurrentInstance:Pe,getTransitionRawChildren:Mo,guardReactiveProps:Lo,h:No,handleError:jo,hasInjectionContext:$o,hydrateOnIdle:Bo,hydrateOnInteraction:Uo,hydrateOnMediaQuery:Vo,hydrateOnVisible:Go,initCustomFormatter:Ho,inject:Ko,isMemoSame:Wo,isRuntimeOnly:Xo,isVNode:Yo,mergeDefaults:zo,mergeModels:ko,mergeProps:Jo,nextTick:Qo,onActivated:Zo,onBeforeMount:qo,onBeforeUnmount:Gn,onBeforeUpdate:_o,onDeactivated:ta,onErrorCaptured:ea,onMounted:Se,onRenderTracked:na,onRenderTriggered:ra,onServerPrefetch:oa,onUnmounted:aa,onUpdated:ia,openBlock:$,popScopeId:sa,provide:la,pushScopeId:da,queuePostFlushCb:ua,registerRuntimeCompiler:ca,renderList:Zt,renderSlot:fa,resolveComponent:wt,resolveDirective:pa,resolveDynamicComponent:va,resolveFilter:ha,resolveTransitionHooks:ga,setBlockTracking:ma,setDevtoolsHook:ya,setTransitionHooks:ba,ssrContextKey:Sa,ssrUtils:xa,toHandlers:wa,transformVNodeArgs:Ea,useAttrs:Oa,useId:Ta,useModel:Da,useSSRContext:Ia,useSlots:Ca,useTemplateRef:Aa,useTransitionState:Pa,version:Fa,warn:Ra,watch:Ce,watchEffect:Ma,watchPostEffect:La,watchSyncEffect:Na,withAsyncContext:ja,withCtx:Ft,withDefaults:$a,withDirectives:Je,withMemo:Ba,withScopeId:Ua,Transition:Va,TransitionGroup:Ga,VueElement:Ha,createApp:Ka,createSSRApp:Wa,defineCustomElement:Xa,defineSSRCustomElement:Ya,hydrate:za,initDirectivesForSSR:ka,render:Ja,useCssModule:Qa,useCssVars:Za,useHost:qa,useShadowRoot:_a,vModelCheckbox:ti,vModelDynamic:ei,vModelRadio:ni,vModelSelect:ri,vModelText:oi,vShow:Qe,withKeys:ai,withModifiers:dn},Symbol.toStringTag,{value:"Module"}));var Hn=qt({name:"Delete"});const Si={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xi=st("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1);function wi(l,r,e,a,n,o){return $(),jt("svg",Si,[xi])}Hn.render=wi;Hn.__file="packages/components/Delete.vue";const Ei=Hn;var Kn=qt({name:"Plus"});const Oi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ti=st("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1);function Di(l,r,e,a,n,o){return $(),jt("svg",Oi,[Ti])}Kn.render=Di;Kn.__file="packages/components/Plus.vue";const Ii=Kn,Ci={class:"flow_detail_card_content_main_selected_area"},Ai={class:"flow_detail_card_content_main_selected_area_latlngs"},Pi=qt({__name:"SelectAreaStep",props:{data:{type:Object,default:()=>{}}},setup(l){const r=l;return fe({isParams:!1}),(e,a)=>($(!0),K(Vt,null,Zt(r.data.selectedAreas,n=>($(),K("div",Ci,[($(!0),K(Vt,null,Zt(n,o=>($(),K("span",Ai," ["+Tt(o.latitude)+", "+Tt(o.longitude)+"] ",1))),256))]))),256))}});const Jn=xe(Pi,[["__scopeId","data-v-1d340c76"]]),Fi={style:{display:"flex","flex-wrap":"wrap"}},Ri={class:"flow_detail_card_content_main_selected_targets"},Mi=["src","onClick"],Li=qt({__name:"SelectTargetStep",props:{data:{type:Object,default:()=>{}}},setup(l){const{proxy:r}=Pe(),e=l,a=n=>{r.mittBus.emit("deleteTarget",{data:{item:e.data,target:n}})};return(n,o)=>($(),K("div",Fi,[($(!0),K(Vt,null,Zt(e.data.selectedTargets,t=>($(),K("div",Ri,[j("span",null,[ne(Tt(t.name)+"("+Tt(t.batch)+") ",1),j("img",{src:X(Qt).getAssetsFile("close.png"),onClick:i=>a(t)},null,8,Mi)])]))),256))]))}});const Qn=xe(Li,[["__scopeId","data-v-2afdb9b7"]]),Ni={class:"flow_detail_card_content_main_input"},ji={key:0,class:"slider-container"},$i={class:"flow_detail_card_content_main_input_title"},Bi={key:1,class:"flow_detail_card_content_main_selected_targets"},Ui={class:"flow_detail_card_content_main_selected_targets_item"},Vi={class:"flow_detail_card_content_main_selected_targets_item_batch"},Gi=["onClick"],Hi=["src"],Ki=qt({__name:"ValueInput",props:{data:{type:Object,default:()=>{}},index:{type:Number,default:0},flowData:{type:Object,default:()=>{}},taskId:{type:String,default:""}},setup(l){const r=Ze(),{proxy:e}=Pe(),a=l;hn("");const n=hn(!1),o=i=>{n.value=i&&i.length>50};Ce(()=>a.data,i=>{i.type==="values"&&(i.details.field_type==="number"&&i.details.range?r.flows.requiredParams[a.index].value=Number(i.value)||i.details.range[0]:(a.flowData.name=="\u4EFB\u52A1\u89E3\u6790"||a.flowData.name=="\u4FA6\u5BDF\u5175\u529B\u7B79\u5212\u65B9\u6848\u63A8\u8350"?r.flows.taskDesc&&(r.flows.requiredParams[a.index].value=r.flows.taskDesc):r.flows.requiredParams[a.index].value=i.value||"",o(r.flows.requiredParams[a.index].value)))},{immediate:!0,deep:!0}),Ce(r.flows.requiredParams[a.index].value,i=>{a.data.type==="values"&&typeof i=="string"&&o(i)});const t=i=>{e.mittBus.emit("deleteTarget",{data:{item:a.data,target:i}})};return Se(()=>{setTimeout(()=>{a.data.name==="taskId"&&(r.flows.requiredParams[a.index].value=a.taskId)},200)}),(i,s)=>{const d=wt("el-slider"),u=wt("el-input-number"),c=wt("el-input");return $(),K("div",Ni,[a.data.type=="values"?($(),K(Vt,{key:0},[a.data.details.range&&a.data.details.field_type==="number"?($(),K("div",ji,[st(d,{modelValue:X(r).flows.requiredParams[a.index].value,"onUpdate:modelValue":s[0]||(s[0]=f=>X(r).flows.requiredParams[a.index].value=f),min:a.data.details.range[0],max:a.data.details.range[1],step:1,"format-tooltip":f=>`${f}`,class:"custom-slider"},null,8,["modelValue","min","max","format-tooltip"]),st(u,{modelValue:X(r).flows.requiredParams[a.index].value,"onUpdate:modelValue":s[1]||(s[1]=f=>X(r).flows.requiredParams[a.index].value=f),min:a.data.details.range[0],max:a.data.details.range[1],step:1,"controls-position":"right",class:"custom-input-number"},null,8,["modelValue","min","max"])])):($(),K(Vt,{key:1},[j("div",$i,Tt(a.data.description),1),n.value?($(),jt(c,{key:1,modelValue:X(r).flows.requiredParams[a.index].value,"onUpdate:modelValue":s[3]||(s[3]=f=>X(r).flows.requiredParams[a.index].value=f),placeholder:a.data.description,type:"textarea",rows:3,class:"adaptive-textarea",resize:"none"},null,8,["modelValue","placeholder"])):($(),jt(c,{key:0,modelValue:X(r).flows.requiredParams[a.index].value,"onUpdate:modelValue":s[2]||(s[2]=f=>X(r).flows.requiredParams[a.index].value=f),placeholder:a.data.description,class:"adaptive-input",onInput:o},null,8,["modelValue","placeholder"]))],64))],64)):at("",!0),a.data.type=="dynamic_form"?($(),K("div",Bi,[($(!0),K(Vt,null,Zt(a.data.selectedTargets,(f,p)=>($(),K("div",Ui,[j("div",Vi,Tt(f.batch),1),st(c,{modelValue:f.inputValue,"onUpdate:modelValue":v=>f.inputValue=v,placeholder:a.data.description},null,8,["modelValue","onUpdate:modelValue","placeholder"]),j("div",{class:"flow_detail_card_content_main_selected_targets_item_delete",onClick:v=>t(f)},[j("img",{src:X(Qt).getAssetsFile("delete.png")},null,8,Hi)],8,Gi)]))),256))])):at("",!0)])}}});const Wi=xe(Ki,[["__scopeId","data-v-2f775f3e"]]),Xi={class:"render-container"},Yi={key:0,class:"text-render"},zi={key:1,class:"markdown_render"},ki=["innerHTML"],Ji=["innerHTML"],Qi={key:3,class:"flow_detail_card_content_main_table"},Zi={key:2},qi=["id"],_i=["innerHTML"],ts=qt({__name:"Render",props:{data:{type:Object,default:()=>{}}},setup(l){const{proxy:r}=Pe(),e=Ze(),a=l,n=fe({markdownContent:"",thinkText:"",tableData:{},showMarkdownDialog:!1}),o=async()=>{const{file:u,fileName:c}=await ii.downloadMarkdownToDoc({markdown_content:n.markdownContent,file_name:"converted_document.docx"}),f=new Blob([u]),p=window.URL.createObjectURL(f),v=document.createElement("a");v.href=p,v.download=c,v.click(),URL.revokeObjectURL(p)},t=u=>{r.mittBus.emit("callTargetProxy",{data:{batch:u.batch}})},i=u=>{if(console.log("************************",u),u.output.type=="MARKDOWN")try{JSON.parse(u.output.render.markdown).table_type?n.tableData=JSON.parse(u.output.render.markdown):s(u.output.render.markdown)}catch(c){console.log(c),s(u.output.render.markdown)}else if(u.output.type=="MAP")n.markdownContent=u.output.render.data.text||u.output.render.msg_type,r.mittBus.emit("render",{data:u});else if(u.output.type=="TEXT")n.markdownContent=u.output.render.text||u.output.message;else if(u.output.type=="ECHARTS"){let c=document.getElementById(`echarts_container_box_${a.data}`),f=si(c),p=u.output.render.option;f.setOption(p)}},s=u=>{if(u.indexOf("<think>")>-1)if(u.indexOf("</think>")>-1){let c=u.split("</think>");n.thinkText=c[0].split("<think>")[1],n.markdownContent=c[1]}else n.thinkText=u;else n.markdownContent=u},d=()=>{n.showMarkdownDialog=!0};return Se(()=>{i(e.flows.flowData[a.data])}),(u,c)=>{const f=wt("el-table-column"),p=wt("el-table"),v=wt("el-button"),h=wt("el-scrollbar"),y=wt("el-dialog");return $(),K("div",Xi,[X(e).flows.flowData[a.data].output.type=="TEXT"?($(),K("div",Yi,Tt(n.markdownContent),1)):at("",!0),X(e).flows.flowData[a.data].output.type=="MARKDOWN"?($(),K("div",zi,[n.thinkText.length>0?($(),K("div",{key:0,class:"thinkText_md",innerHTML:X(ye)({content:n.thinkText})},null,8,ki)):at("",!0),n.markdownContent.length>0?($(),K("div",{key:1,class:"flow_detail_card_content_main_markdown",innerHTML:X(ye)({content:n.markdownContent})},null,8,Ji)):at("",!0),n.markdownContent.length>300?($(),K("div",{key:2,class:"read_markdown_btn",onClick:d}," \u67E5\u770B\u5185\u5BB9 ")):at("",!0),n.tableData.table_data?($(),K("div",Qi,[st(p,{data:n.tableData.table_data,border:"",style:{width:"100%",cursor:"pointer"},stripe:"",onRowClick:t},{default:Ft(()=>[($(!0),K(Vt,null,Zt(n.tableData.column_data,(S,w)=>($(),jt(f,{prop:S.prop,label:S.label,key:w},null,8,["prop","label"]))),128))]),_:1},8,["data"])])):at("",!0)])):at("",!0),X(e).flows.flowData[a.data].output.type=="ECHARTS"?($(),K("div",Zi,[j("div",{class:"echarts_container",id:`echarts_container_box_${a.data}`},null,8,qi)])):at("",!0),st(y,{title:"\u5185\u5BB9\u8BE6\u60C5",modelValue:n.showMarkdownDialog,"onUpdate:modelValue":c[0]||(c[0]=S=>n.showMarkdownDialog=S),width:"80%",top:"3vh"},{default:Ft(()=>[j("div",null,[st(v,{type:"primary",onClick:o},{default:Ft(()=>c[1]||(c[1]=[ne("\u4E0B\u8F7D")])),_:1}),st(h,{style:{height:"600px"}},{default:Ft(()=>[j("div",{class:"flow_detail_card_content_main_markdown",innerHTML:X(ye)({content:n.markdownContent}),style:{padding:"15px"}},null,8,_i)]),_:1})])]),_:1},8,["modelValue"])])}}});const es=xe(ts,[["__scopeId","data-v-25dabcf4"]]),ns={key:0,class:"reentry_component"},rs={key:0,class:"llmReentry_link_targetList"},os=["onClick"],as=["src"],is={class:"triangle"},ss={key:1,class:"llmReentry_link_targetInput"},ls=qt({__name:"Reentry",props:["reentryData"],emits:["selectTarget"],setup(l,{emit:r}){const e=l,a=r,n=fe({selectIdx:null,targetInput:""}),o=(t,i)=>{t==="select"?(n.selectIdx=i,a("selectTarget",e.reentryData.template.option[i].value)):t==="input"&&a("selectTarget",n.targetInput)};return Se(()=>{}),(t,i)=>{const s=wt("el-input"),d=wt("el-button");return e.reentryData&&Object.keys(e.reentryData).length&&e.reentryData.template?($(),K("div",ns,[e.reentryData.template.option?($(),K("div",rs,[($(!0),K(Vt,null,Zt(e.reentryData.template.option,(u,c)=>($(),K("div",{key:c,class:gn(["llmReentry_link_targetList_item llmPage_common_flex_default",n.selectIdx===c?"llmReentry_link_targetList_item_active":""]),onClick:f=>o("select",c)},[j("img",{src:X(hi).getAssetsFile("icon/icon_target.png")},null,8,as),j("span",null,Tt(u.text),1),Je(j("div",is,[st(X(gi))],512),[[Qe,n.selectIdx===c]])],10,os))),128))])):($(),K("div",ss,[st(s,{modelValue:n.targetInput,"onUpdate:modelValue":i[0]||(i[0]=u=>n.targetInput=u),placeholder:"\u8BF7\u8F93\u5165",style:{width:"250px"}},null,8,["modelValue"]),st(d,{type:"primary",onClick:i[1]||(i[1]=u=>o("input")),style:{"margin-left":"10px"}},{default:Ft(()=>i[2]||(i[2]=[ne("\u786E\u5B9A")])),_:1})]))])):at("",!0)}}});const ds=xe(ls,[["__scopeId","data-v-dec1a790"]]),us={class:"flow_detail_content",style:{height:"calc(100% - 20px)"}},cs={class:"flow_detail_content_title_box"},fs={class:"flow_detail_content_title_box_text"},ps={class:"flow_detail_content_title_box_actions"},vs=["src"],hs=["src"],gs={class:"flow_detail_content_main_process_box"},ms={class:"flow_detail_card"},ys={class:"flow_detail_card"},bs={class:"flow_detail_card_line_box"},Ss={class:"flow_detail_card_content"},xs={class:"flow_detail_card_content_title"},ws=["src"],Es={class:"flow_detail_card_content_main"},Os={class:"flow_detail_card_content_main_desc",style:{color:"#E31430"}},Ts=["onClick"],Ds=["onClick"],Is={class:"flow_detail_card_content_main"},Cs={class:"flow_detail_card"},As={class:"flow_detail_card_line_box"},Ps={class:"flow_detail_card_content"},Fs={class:"flow_detail_card_content_title"},Rs=["src"],Ms=["src"],Ls={class:"flow_detail_card_content_title_text"},Ns=["onClick"],js=["onClick"],$s={class:"flow_detail_card_content_main"},Bs=["innerHTML"],Us=["innerHTML"],Vs=["onClick"],Gs={class:"flow_detail_card_content"},Hs={class:"flow_detail_card_content_title"},Ks=["src"],Ws={class:"flow_detail_card_content_main"},Xs={class:"flow_detail_card_content_main_desc recommend_card"},Ys={class:"recommend_card_name"},zs=qt({__name:"Detail",props:{flowData:{type:Object,default:()=>{}},isOrigin:{type:Boolean,default:!1},currentFlowIndex:{type:Number,default:0},flowList:{type:Array,default:()=>[]},taskId:{type:String,default:""}},emits:["backToList"],setup(l,{emit:r}){const e=Ze(),{proxy:a}=Pe();dr();const n=l,o=r,t=fe({socket:null,recommendList:[],reentryUUid:"",relativeQuestionList:[]}),i=b=>{switch(b){case"info":return"flow_detail_card_line_box_circle";case"selectArea":return"orange_circle";case"selectTarget":return"orange_circle";case"values":return"orange_circle";case"success":return"green_circle";case"infoNext":return"purple_circle";default:return"orange_circle"}},s=fe({info:"info.png",start:"info.png",values:"info.png",recommend_next:"info.png",infoNext:"info.png",selectArea:"selectArea.png",area:"selectArea.png",dynamic_form:"selectArea.png",targets:"selectArea.png",finish:"selectArea.png",custom:"custom.png",render:"custom.png",reentry:"custom.png"}),d=b=>{b.type=="area"?v(b):(b.type=="targets"||b.type=="dynamic_form")&&h(b),b.doing=!0},u=b=>{b.type=="selectArea"||(b.type=="targets"||b.type=="dynamic_form")&&(a.mittBus.off("clickTarget"),e.map.flowSelectingTargets=!1),b.doing=!1},c=()=>{let b=null;e.socket.on("params_required",m=>{b=new Promise(A=>{e.flows.requiredParams=m.params_required?Lt(m.params_required).map(O=>(O.type==="area"?(O.selectedAreas=[],O.doing=!1,e.flows.lastSelectedArea&&(O.selectedAreas=[Lt(e.flows.lastSelectedArea)],a.mittBus.emit("drawSavedArea",{data:e.flows.lastSelectedArea}))):O.type==="targets"||O.type==="dynamic_form"?(O.selectedTargets=[],O.doing=!1):O.type==="values"&&(O.value=""),O)):[],A()})}),e.socket.on("historical_params_available",m=>{b&&b.then(()=>{var O;const A=(O=m.historical_params[0])==null?void 0:O.params;e.flows.requiredParams.forEach(g=>{var T,N;if(g.type==="values"&&(A==null?void 0:A.values)){const W=A.values.find(F=>F.field_name===g.name);W&&(g.value=g.details.field_type==="number"?Number(W.value):W.value)}else g.type==="area"&&((T=A==null?void 0:A.area)==null?void 0:T.length)>0?(g.selectedAreas=[Lt(A.area)],a.mittBus.emit("drawSavedArea",{data:A.area})):(g.type==="targets"||g.type==="dynamic_form")&&((N=A==null?void 0:A.targets)==null?void 0:N.length)>0&&(g.selectedTargets=[],(async()=>{const F=A.targets.map(M=>new Promise(V=>{a.mittBus.emit("getTargetById",{id:M,callback:R=>{R?(g.type==="dynamic_form"&&(R.inputValue=""),R.batch=R.batch||M,R.name=R.name||R.batch,V(R)):V({batch:M,name:M,inputValue:g.type==="dynamic_form"?"":void 0})}})}));try{const V=(await Promise.all(F)).filter(R=>R!==null);g.selectedTargets=V}catch{}})())})})}),e.socket.on("flow_started",m=>{}),e.socket.on("node_started",m=>{m.service_type==="reentry"&&(m.type="reentry",t.reentryUUid=m.node_id),e.flows.nodeIds.includes(m.node_id)||e.flows.nodeIds.push(m.node_id),e.flows.flowData[m.node_id]||(e.flows.flowData[m.node_id]=m)}),e.socket.on("node_finished",m=>{}),e.socket.on("node_running",m=>{let A=m.data.notify.data.result;if(A.indexOf("<think>")>-1){if(A.indexOf("</think>")>-1){const O=A.split("</think>");e.flows.flowData[m.data.nodeId].thinkText=O[0],e.flows.flowData[m.data.nodeId].description=O[1]}else e.flows.flowData[m.data.nodeId].thinkText=A;A===`<think>

`&&(e.flows.flowData[m.data.nodeId].description="")}else e.flows.flowData[m.data.nodeId].description=A}),e.socket.on("flow_finished",m=>{n.currentFlowIndex===n.flowList.length-1&&(t.relativeQuestionList=["\u4F60\u597D"])}),e.socket.on("render",m=>{var A;m.type="render",e.flows.flowData[m.node_id]=m,((A=m.output)==null?void 0:A.type)==="MAP"&&a.mittBus.emit("render",{data:m})}),e.socket.on("recommend_next",m=>{n.isOrigin?t.recommendList=m.recommended_workflows:n.currentFlowIndex!==n.flowList.length-1&&(t.recommendList=[n.flowList[n.currentFlowIndex+1]],console.log(t.recommendList))}),e.socket.on("reentry_required",m=>{m.type="reentry",e.flows.flowData[t.reentryUUid]=m}),e.socket.on("error",m=>{})},f=b=>{e.socket.emit("reentry_response",{workflow_id:n.flowData.id,params:{contextId:e.flows.flowData[t.reentryUUid].context_id,question:`{{${b}}}`}})},p=()=>{e.socket.off("flow_started"),e.socket.off("node_started"),e.socket.off("node_finished"),e.socket.off("flow_finished"),e.socket.off("render"),e.socket.off("error")},v=b=>{b.doing=!0,a.mittBus.emit("setArea",!1),a.mittBus.on("confirmArea",m=>{b.selectedAreas=m.data,b.doing=!1,e.flows.lastSelectedArea=Lt(m.data[0]),C()})},h=b=>{e.map.flowSelectingTargets=!0,a.mittBus.off("clickTarget"),a.mittBus.off("deleteTarget"),a.mittBus.on("clickTarget",m=>{if(b.selectedTargets){if(b.selectedTargets.indexOf(m.data)>=0)return;b.type=="dynamic_form"&&(m.data.inputValue=""),b.selectedTargets.push(m.data)}else b.selectedTargets=[m.data]}),a.mittBus.on("deleteTarget",m=>{m.data.item.selectedTargets.indexOf(m.data.target)>=0&&m.data.item.selectedTargets.splice(m.data.item.selectedTargets.indexOf(m.data.target),1)})},y=()=>{let b=[],m=[],A=[];e.map.flowSelectingTargets=!1,e.flows.requiredParams.map(O=>{a.mittBus.off("clickTarget"),e.map.flowSelectingTargets=!1,O.doing=!1,O.type=="values"?b.push({field_name:O.name,value:O.value,field_type:O.details.field_type}):O.type=="area"?m=O.selectedAreas[0]:O.type=="targets"?O.selectedTargets.map(g=>{A.push(g.batch)}):O.type=="dynamic_form"&&(b.push({field_name:"tasks",field_type:"array",value:[]}),O.selectedTargets.map(g=>{b[b.length-1].value.push({target_id:g.batch,task:g.inputValue})}))}),console.log("params: {values: values, area: area}",{values:b,area:m,targets:A}),e.socket.emit("params_response",{workflow_id:n.flowData.id,debug_mode:!0,params:{values:b,area:m,targets:A,taskId:[n.taskId],flowId:[n.flowData.id]}})},S=b=>{o("backToList",b)},w=()=>{o("backToList")},C=()=>{e.flows.rememberedFlows[n.flowData.id]={flowData:Lt(e.flows.flowData),nodeIds:Lt(e.flows.nodeIds),recommendList:Lt(t.recommendList),requiredParams:Lt(e.flows.requiredParams),lastSelectedArea:e.flows.lastSelectedArea?Lt(e.flows.lastSelectedArea):null}},I=()=>{e.flows.flowData=[],e.flows.nodeIds=[],t.recommendList=[],e.flows.requiredParams.forEach(b=>{b.type==="values"?b.value="":b.type==="area"?(b.selectedAreas=[],b.doing=!1):(b.type==="targets"||b.type==="dynamic_form")&&(b.selectedTargets=[],b.doing=!1)}),e.flows.rememberedFlows[n.flowData.id]&&delete e.flows.rememberedFlows[n.flowData.id],a.mittBus.emit("clearMap",{type:"clearArea"}),e.flows.lastSelectedArea=null};return Gn(()=>{p(),C()}),Ce(()=>n.flowData,(b,m)=>{b.id&&(p(),e.flows.flowData={},e.flows.nodeIds=[],t.recommendList=[],e.flows.requiredParams=[],c())},{deep:!0}),Se(()=>{setTimeout(()=>{console.log(e.flows.rememberedFlows,n.flowData.id),e.flows.rememberedFlows[n.flowData.id]?(e.flows.flowData=Lt(e.flows.rememberedFlows[n.flowData.id].flowData),e.flows.nodeIds=Lt(e.flows.rememberedFlows[n.flowData.id].nodeIds),t.recommendList=Lt(e.flows.rememberedFlows[n.flowData.id].recommendList),e.flows.rememberedFlows[n.flowData.id].requiredParams&&(e.flows.requiredParams=Lt(e.flows.rememberedFlows[n.flowData.id].requiredParams)),e.flows.rememberedFlows[n.flowData.id].lastSelectedArea&&(e.flows.lastSelectedArea=Lt(e.flows.rememberedFlows[n.flowData.id].lastSelectedArea))):(e.flows.flowData=[],e.flows.nodeIds=[],t.recommendList=[]),c()},200);const b={type:"response",content:"Hi back to the main system!"};window.parent.postMessage(b,"http://mainsystem.com"),window.addEventListener("message",function(m){m.origin==="http://mainsystem.com"&&console.log("Received message from main system:",m.data)})}),(b,m)=>{const A=wt("el-scrollbar");return $(),K("div",us,[j("div",cs,[j("div",fs,Tt(n.flowData.name),1),j("div",ps,[j("div",{class:"flow_detail_content_title_box_return",onClick:m[0]||(m[0]=O=>I())},[j("img",{src:X(Qt).getAssetsFile("clear.png")},null,8,vs),m[3]||(m[3]=ne("\u6E05\u7406 "))]),j("div",{class:"flow_detail_content_title_box_return",onClick:m[1]||(m[1]=O=>w())},[j("img",{src:X(Qt).getAssetsFile("flip-left.png")},null,8,hs),m[4]||(m[4]=ne("\u8FD4\u56DE "))])])]),j("div",gs,[st(A,{style:{height:"100%","padding-right":"14px"},height:"100%"},{default:Ft(()=>[($(!0),K(Vt,null,Zt(X(e).flows.requiredParams,(O,g)=>($(),K("div",ms,[Je(j("div",ys,[j("div",bs,[j("div",{class:gn(["flow_detail_card_line_box_circle",i(O.type)])},null,2),m[5]||(m[5]=j("div",{class:"flow_detail_card_line_box_line"},null,-1))]),j("div",Ss,[j("div",xs,[j("img",{src:X(Qt).getAssetsFile(`${s[O.type]}`)},null,8,ws),m[6]||(m[6]=j("div",{class:"flow_detail_card_content_title_text"},"\u53C2\u6570\u8F93\u5165",-1))]),j("div",Es,[j("div",Os,Tt(O.description),1)]),(O.type=="area"||O.type=="targets"||O.type=="dynamic_form")&&!O.doing?($(),K("div",{key:0,style:{color:"#1776FF",cursor:"pointer","margin-top":"10px"},onClick:T=>d(O)},"\u5F00\u59CB\u6267\u884C",8,Ts)):at("",!0),(O.type=="area"||O.type=="targets"||O.type=="dynamic_form")&&O.doing?($(),K("div",{key:1,style:{color:"#1776FF",cursor:"pointer","margin-top":"10px"},onClick:T=>u(O)},"\u7ED3\u675F\u6267\u884C",8,Ds)):at("",!0),j("div",Is,[O.type=="values"||O.type=="dynamic_form"?($(),jt(Wi,{key:0,index:g,data:O,flowData:n.flowData,taskId:n.taskId},null,8,["index","data","flowData","taskId"])):at("",!0),O.type=="area"?($(),jt(Jn,{key:1,data:O},null,8,["data"])):at("",!0),O.type=="targets"?($(),jt(Qn,{key:2,data:O},null,8,["data"])):at("",!0)])])],512),[[Qe,O.name!=="taskId"]])]))),256)),X(e).flows.requiredParams.length>0?($(),K("div",{key:0,style:{"margin-top":"10px"},class:"flow_detail_card_content_main_params_confirm",onClick:m[2]||(m[2]=O=>y())},"\u786E\u5B9A\u53C2\u6570\u8F93\u5165")):at("",!0),($(!0),K(Vt,null,Zt(X(e).flows.nodeIds,(O,g)=>($(),K("div",Cs,[j("div",As,[j("div",{class:gn(["flow_detail_card_line_box_circle",i(X(e).flows.flowData[O].status)])},null,2),m[7]||(m[7]=j("div",{class:"flow_detail_card_line_box_line"},null,-1))]),j("div",Ps,[j("div",Fs,[X(e).flows.flowData[O].type?($(),K("img",{key:0,src:X(Qt).getAssetsFile(`${s[X(e).flows.flowData[O].type]}`)},null,8,Rs)):($(),K("img",{key:1,src:X(Qt).getAssetsFile("info.png")},null,8,Ms)),j("div",Ls,Tt(X(e).flows.flowData[O].type_label||(X(e).flows.flowData[O].type==="reentry"?"\u8865\u5168\u91CD\u5165":"RENDER")),1),X(e).flows.flowData[O].instruct&&!X(e).flows.flowData[O].doing?($(),K("div",{key:2,class:"flow_detail_card_content_title_instruct",onClick:T=>d(O)}," \u5F00\u59CB\u6267\u884C ",8,Ns)):at("",!0),X(e).flows.flowData[O].instruct&&X(e).flows.flowData[O].doing?($(),K("div",{key:3,class:"flow_detail_card_content_title_instruct",onClick:T=>u(O)}," \u63D0\u4EA4\u9009\u62E9 ",8,js)):at("",!0)]),j("div",$s,[X(e).flows.flowData[O].thinkText?($(),K("div",{key:0,class:"thinkText",innerHTML:X(ye)({content:X(e).flows.flowData[O].thinkText})},null,8,Bs)):at("",!0),j("div",{innerHTML:X(ye)({content:X(e).flows.flowData[O].description})},null,8,Us),O.type=="selectArea"?($(),jt(Jn,{key:1,data:O},null,8,["data"])):at("",!0),O.type=="selectTarget"?($(),jt(Qn,{key:2,data:O},null,8,["data"])):at("",!0),X(e).flows.flowData[O].type=="render"?($(),jt(es,{key:3,data:O},null,8,["data"])):at("",!0),X(e).flows.flowData[O].type=="reentry"?($(),jt(ds,{key:4,reentryData:X(e).flows.flowData[O],onSelectTarget:f},null,8,["reentryData"])):at("",!0)])])]))),256)),($(!0),K(Vt,null,Zt(t.recommendList,(O,g)=>($(),K("div",{class:"flow_detail_card",onClick:T=>S(O)},[m[9]||(m[9]=j("div",{class:"flow_detail_card_line_box"},[j("div",{class:"flow_detail_card_line_box_circle purple_circle"}),j("div",{class:"flow_detail_card_line_box_line"})],-1)),j("div",Gs,[j("div",Hs,[j("img",{src:X(Qt).getAssetsFile("info.png")},null,8,Ks),m[8]||(m[8]=j("div",{class:"flow_detail_card_content_title_text"}," \u4E0B\u4E00\u6B65\u4EFB\u52A1\u63A8\u8350 ",-1))]),j("div",Ws,[j("div",Xs,[j("div",Ys,Tt(O.name),1),j("div",null,Tt(O.description||O.remark),1)])])])],8,Vs))),256))]),_:1})])])}}});const ks=xe(zs,[["__scopeId","data-v-53627633"]]);var cr={exports:{}};const Js=ur(bi);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Zn(l,r){var e=Object.keys(l);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(l);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(l,n).enumerable})),e.push.apply(e,a)}return e}function re(l){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Zn(Object(e),!0).forEach(function(a){Qs(l,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(e)):Zn(Object(e)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(e,a))})}return l}function un(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?un=function(r){return typeof r}:un=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},un(l)}function Qs(l,r,e){return r in l?Object.defineProperty(l,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[r]=e,l}function Xt(){return Xt=Object.assign||function(l){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(l[a]=e[a])}return l},Xt.apply(this,arguments)}function Zs(l,r){if(l==null)return{};var e={},a=Object.keys(l),n,o;for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&(e[n]=l[n]);return e}function qs(l,r){if(l==null)return{};var e=Zs(l,r),a,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);for(n=0;n<o.length;n++)a=o[n],!(r.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(l,a)||(e[a]=l[a]))}return e}function _s(l){return tl(l)||el(l)||nl(l)||rl()}function tl(l){if(Array.isArray(l))return jn(l)}function el(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function nl(l,r){if(!!l){if(typeof l=="string")return jn(l,r);var e=Object.prototype.toString.call(l).slice(8,-1);if(e==="Object"&&l.constructor&&(e=l.constructor.name),e==="Map"||e==="Set")return Array.from(l);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return jn(l,r)}}function jn(l,r){(r==null||r>l.length)&&(r=l.length);for(var e=0,a=new Array(r);e<r;e++)a[e]=l[e];return a}function rl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ol="1.14.0";function ae(l){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(l)}var ie=ae(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qe=ae(/Edge/i),qn=ae(/firefox/i),We=ae(/safari/i)&&!ae(/chrome/i)&&!ae(/android/i),fr=ae(/iP(ad|od|hone)/i),al=ae(/chrome/i)&&ae(/android/i),pr={capture:!1,passive:!1};function tt(l,r,e){l.addEventListener(r,e,!ie&&pr)}function _(l,r,e){l.removeEventListener(r,e,!ie&&pr)}function mn(l,r){if(!!r){if(r[0]===">"&&(r=r.substring(1)),l)try{if(l.matches)return l.matches(r);if(l.msMatchesSelector)return l.msMatchesSelector(r);if(l.webkitMatchesSelector)return l.webkitMatchesSelector(r)}catch{return!1}return!1}}function il(l){return l.host&&l!==document&&l.host.nodeType?l.host:l.parentNode}function Jt(l,r,e,a){if(l){e=e||document;do{if(r!=null&&(r[0]===">"?l.parentNode===e&&mn(l,r):mn(l,r))||a&&l===e)return l;if(l===e)break}while(l=il(l))}return null}var _n=/\s+/g;function pt(l,r,e){if(l&&r)if(l.classList)l.classList[e?"add":"remove"](r);else{var a=(" "+l.className+" ").replace(_n," ").replace(" "+r+" "," ");l.className=(a+(e?" "+r:"")).replace(_n," ")}}function U(l,r,e){var a=l&&l.style;if(a){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(l,""):l.currentStyle&&(e=l.currentStyle),r===void 0?e:e[r];!(r in a)&&r.indexOf("webkit")===-1&&(r="-webkit-"+r),a[r]=e+(typeof e=="string"?"":"px")}}function be(l,r){var e="";if(typeof l=="string")e=l;else do{var a=U(l,"transform");a&&a!=="none"&&(e=a+" "+e)}while(!r&&(l=l.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(e)}function vr(l,r,e){if(l){var a=l.getElementsByTagName(r),n=0,o=a.length;if(e)for(;n<o;n++)e(a[n],n);return a}return[]}function ee(){var l=document.scrollingElement;return l||document.documentElement}function ct(l,r,e,a,n){if(!(!l.getBoundingClientRect&&l!==window)){var o,t,i,s,d,u,c;if(l!==window&&l.parentNode&&l!==ee()?(o=l.getBoundingClientRect(),t=o.top,i=o.left,s=o.bottom,d=o.right,u=o.height,c=o.width):(t=0,i=0,s=window.innerHeight,d=window.innerWidth,u=window.innerHeight,c=window.innerWidth),(r||e)&&l!==window&&(n=n||l.parentNode,!ie))do if(n&&n.getBoundingClientRect&&(U(n,"transform")!=="none"||e&&U(n,"position")!=="static")){var f=n.getBoundingClientRect();t-=f.top+parseInt(U(n,"border-top-width")),i-=f.left+parseInt(U(n,"border-left-width")),s=t+o.height,d=i+o.width;break}while(n=n.parentNode);if(a&&l!==window){var p=be(n||l),v=p&&p.a,h=p&&p.d;p&&(t/=h,i/=v,c/=v,u/=h,s=t+u,d=i+c)}return{top:t,left:i,bottom:s,right:d,width:c,height:u}}}function tr(l,r,e){for(var a=ce(l,!0),n=ct(l)[r];a;){var o=ct(a)[e],t=void 0;if(e==="top"||e==="left"?t=n>=o:t=n<=o,!t)return a;if(a===ee())break;a=ce(a,!1)}return!1}function Ae(l,r,e,a){for(var n=0,o=0,t=l.children;o<t.length;){if(t[o].style.display!=="none"&&t[o]!==z.ghost&&(a||t[o]!==z.dragged)&&Jt(t[o],e.draggable,l,!1)){if(n===r)return t[o];n++}o++}return null}function Wn(l,r){for(var e=l.lastElementChild;e&&(e===z.ghost||U(e,"display")==="none"||r&&!mn(e,r));)e=e.previousElementSibling;return e||null}function yt(l,r){var e=0;if(!l||!l.parentNode)return-1;for(;l=l.previousElementSibling;)l.nodeName.toUpperCase()!=="TEMPLATE"&&l!==z.clone&&(!r||mn(l,r))&&e++;return e}function er(l){var r=0,e=0,a=ee();if(l)do{var n=be(l),o=n.a,t=n.d;r+=l.scrollLeft*o,e+=l.scrollTop*t}while(l!==a&&(l=l.parentNode));return[r,e]}function sl(l,r){for(var e in l)if(!!l.hasOwnProperty(e)){for(var a in r)if(r.hasOwnProperty(a)&&r[a]===l[e][a])return Number(e)}return-1}function ce(l,r){if(!l||!l.getBoundingClientRect)return ee();var e=l,a=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var n=U(e);if(e.clientWidth<e.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return ee();if(a||r)return e;a=!0}}while(e=e.parentNode);return ee()}function ll(l,r){if(l&&r)for(var e in r)r.hasOwnProperty(e)&&(l[e]=r[e]);return l}function Dn(l,r){return Math.round(l.top)===Math.round(r.top)&&Math.round(l.left)===Math.round(r.left)&&Math.round(l.height)===Math.round(r.height)&&Math.round(l.width)===Math.round(r.width)}var Xe;function hr(l,r){return function(){if(!Xe){var e=arguments,a=this;e.length===1?l.call(a,e[0]):l.apply(a,e),Xe=setTimeout(function(){Xe=void 0},r)}}}function dl(){clearTimeout(Xe),Xe=void 0}function gr(l,r,e){l.scrollLeft+=r,l.scrollTop+=e}function Xn(l){var r=window.Polymer,e=window.jQuery||window.Zepto;return r&&r.dom?r.dom(l).cloneNode(!0):e?e(l).clone(!0)[0]:l.cloneNode(!0)}function nr(l,r){U(l,"position","absolute"),U(l,"top",r.top),U(l,"left",r.left),U(l,"width",r.width),U(l,"height",r.height)}function In(l){U(l,"position",""),U(l,"top",""),U(l,"left",""),U(l,"width",""),U(l,"height","")}var Rt="Sortable"+new Date().getTime();function ul(){var l=[],r;return{captureAnimationState:function(){if(l=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(n){if(!(U(n,"display")==="none"||n===z.ghost)){l.push({target:n,rect:ct(n)});var o=re({},l[l.length-1].rect);if(n.thisAnimationDuration){var t=be(n,!0);t&&(o.top-=t.f,o.left-=t.e)}n.fromRect=o}})}},addAnimationState:function(a){l.push(a)},removeAnimationState:function(a){l.splice(sl(l,{target:a}),1)},animateAll:function(a){var n=this;if(!this.options.animation){clearTimeout(r),typeof a=="function"&&a();return}var o=!1,t=0;l.forEach(function(i){var s=0,d=i.target,u=d.fromRect,c=ct(d),f=d.prevFromRect,p=d.prevToRect,v=i.rect,h=be(d,!0);h&&(c.top-=h.f,c.left-=h.e),d.toRect=c,d.thisAnimationDuration&&Dn(f,c)&&!Dn(u,c)&&(v.top-c.top)/(v.left-c.left)===(u.top-c.top)/(u.left-c.left)&&(s=fl(v,f,p,n.options)),Dn(c,u)||(d.prevFromRect=u,d.prevToRect=c,s||(s=n.options.animation),n.animate(d,v,c,s)),s&&(o=!0,t=Math.max(t,s),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},s),d.thisAnimationDuration=s)}),clearTimeout(r),o?r=setTimeout(function(){typeof a=="function"&&a()},t):typeof a=="function"&&a(),l=[]},animate:function(a,n,o,t){if(t){U(a,"transition",""),U(a,"transform","");var i=be(this.el),s=i&&i.a,d=i&&i.d,u=(n.left-o.left)/(s||1),c=(n.top-o.top)/(d||1);a.animatingX=!!u,a.animatingY=!!c,U(a,"transform","translate3d("+u+"px,"+c+"px,0)"),this.forRepaintDummy=cl(a),U(a,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),U(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){U(a,"transition",""),U(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},t)}}}}function cl(l){return l.offsetWidth}function fl(l,r,e,a){return Math.sqrt(Math.pow(r.top-l.top,2)+Math.pow(r.left-l.left,2))/Math.sqrt(Math.pow(r.top-e.top,2)+Math.pow(r.left-e.left,2))*a.animation}var Ee=[],Cn={initializeByDefault:!0},_e={mount:function(r){for(var e in Cn)Cn.hasOwnProperty(e)&&!(e in r)&&(r[e]=Cn[e]);Ee.forEach(function(a){if(a.pluginName===r.pluginName)throw"Sortable: Cannot mount plugin ".concat(r.pluginName," more than once")}),Ee.push(r)},pluginEvent:function(r,e,a){var n=this;this.eventCanceled=!1,a.cancel=function(){n.eventCanceled=!0};var o=r+"Global";Ee.forEach(function(t){!e[t.pluginName]||(e[t.pluginName][o]&&e[t.pluginName][o](re({sortable:e},a)),e.options[t.pluginName]&&e[t.pluginName][r]&&e[t.pluginName][r](re({sortable:e},a)))})},initializePlugins:function(r,e,a,n){Ee.forEach(function(i){var s=i.pluginName;if(!(!r.options[s]&&!i.initializeByDefault)){var d=new i(r,e,r.options);d.sortable=r,d.options=r.options,r[s]=d,Xt(a,d.defaults)}});for(var o in r.options)if(!!r.options.hasOwnProperty(o)){var t=this.modifyOption(r,o,r.options[o]);typeof t<"u"&&(r.options[o]=t)}},getEventProperties:function(r,e){var a={};return Ee.forEach(function(n){typeof n.eventProperties=="function"&&Xt(a,n.eventProperties.call(e[n.pluginName],r))}),a},modifyOption:function(r,e,a){var n;return Ee.forEach(function(o){!r[o.pluginName]||o.optionListeners&&typeof o.optionListeners[e]=="function"&&(n=o.optionListeners[e].call(r[o.pluginName],a))}),n}};function Ve(l){var r=l.sortable,e=l.rootEl,a=l.name,n=l.targetEl,o=l.cloneEl,t=l.toEl,i=l.fromEl,s=l.oldIndex,d=l.newIndex,u=l.oldDraggableIndex,c=l.newDraggableIndex,f=l.originalEvent,p=l.putSortable,v=l.extraEventProperties;if(r=r||e&&e[Rt],!!r){var h,y=r.options,S="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!ie&&!qe?h=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(a,!0,!0)),h.to=t||e,h.from=i||e,h.item=n||e,h.clone=o,h.oldIndex=s,h.newIndex=d,h.oldDraggableIndex=u,h.newDraggableIndex=c,h.originalEvent=f,h.pullMode=p?p.lastPutMode:void 0;var w=re(re({},v),_e.getEventProperties(a,r));for(var C in w)h[C]=w[C];e&&e.dispatchEvent(h),y[S]&&y[S].call(r,h)}}var pl=["evt"],Bt=function(r,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.evt,o=qs(a,pl);_e.pluginEvent.bind(z)(r,e,re({dragEl:L,parentEl:gt,ghostEl:Z,rootEl:ut,nextEl:me,lastDownEl:cn,cloneEl:mt,cloneHidden:ue,dragStarted:Ge,putSortable:At,activeSortable:z.active,originalEvent:n,oldIndex:Ie,oldDraggableIndex:Ye,newIndex:Kt,newDraggableIndex:de,hideGhostForTarget:Sr,unhideGhostForTarget:xr,cloneNowHidden:function(){ue=!0},cloneNowShown:function(){ue=!1},dispatchSortableEvent:function(i){Nt({sortable:e,name:i,originalEvent:n})}},o))};function Nt(l){Ve(re({putSortable:At,cloneEl:mt,targetEl:L,rootEl:ut,oldIndex:Ie,oldDraggableIndex:Ye,newIndex:Kt,newDraggableIndex:de},l))}var L,gt,Z,ut,me,cn,mt,ue,Ie,Kt,Ye,de,nn,At,De=!1,yn=!1,bn=[],he,zt,An,Pn,rr,or,Ge,Oe,ze,ke=!1,rn=!1,fn,Pt,Fn=[],$n=!1,Sn=[],wn=typeof document<"u",on=fr,ar=qe||ie?"cssFloat":"float",vl=wn&&!al&&!fr&&"draggable"in document.createElement("div"),mr=function(){if(!!wn){if(ie)return!1;var l=document.createElement("x");return l.style.cssText="pointer-events:auto",l.style.pointerEvents==="auto"}}(),yr=function(r,e){var a=U(r),n=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),o=Ae(r,0,e),t=Ae(r,1,e),i=o&&U(o),s=t&&U(t),d=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ct(o).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+ct(t).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&i.float&&i.float!=="none"){var c=i.float==="left"?"left":"right";return t&&(s.clear==="both"||s.clear===c)?"vertical":"horizontal"}return o&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||d>=n&&a[ar]==="none"||t&&a[ar]==="none"&&d+u>n)?"vertical":"horizontal"},hl=function(r,e,a){var n=a?r.left:r.top,o=a?r.right:r.bottom,t=a?r.width:r.height,i=a?e.left:e.top,s=a?e.right:e.bottom,d=a?e.width:e.height;return n===i||o===s||n+t/2===i+d/2},gl=function(r,e){var a;return bn.some(function(n){var o=n[Rt].options.emptyInsertThreshold;if(!(!o||Wn(n))){var t=ct(n),i=r>=t.left-o&&r<=t.right+o,s=e>=t.top-o&&e<=t.bottom+o;if(i&&s)return a=n}}),a},br=function(r){function e(o,t){return function(i,s,d,u){var c=i.options.group.name&&s.options.group.name&&i.options.group.name===s.options.group.name;if(o==null&&(t||c))return!0;if(o==null||o===!1)return!1;if(t&&o==="clone")return o;if(typeof o=="function")return e(o(i,s,d,u),t)(i,s,d,u);var f=(t?i:s).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var a={},n=r.group;(!n||un(n)!="object")&&(n={name:n}),a.name=n.name,a.checkPull=e(n.pull,!0),a.checkPut=e(n.put),a.revertClone=n.revertClone,r.group=a},Sr=function(){!mr&&Z&&U(Z,"display","none")},xr=function(){!mr&&Z&&U(Z,"display","")};wn&&document.addEventListener("click",function(l){if(yn)return l.preventDefault(),l.stopPropagation&&l.stopPropagation(),l.stopImmediatePropagation&&l.stopImmediatePropagation(),yn=!1,!1},!0);var ge=function(r){if(L){r=r.touches?r.touches[0]:r;var e=gl(r.clientX,r.clientY);if(e){var a={};for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);a.target=a.rootEl=e,a.preventDefault=void 0,a.stopPropagation=void 0,e[Rt]._onDragOver(a)}}},ml=function(r){L&&L.parentNode[Rt]._isOutsideThisEl(r.target)};function z(l,r){if(!(l&&l.nodeType&&l.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(l));this.el=l,this.options=r=Xt({},r),l[Rt]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(l.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yr(l,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,i){t.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:z.supportPointer!==!1&&"PointerEvent"in window&&!We,emptyInsertThreshold:5};_e.initializePlugins(this,l,e);for(var a in e)!(a in r)&&(r[a]=e[a]);br(r);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=r.forceFallback?!1:vl,this.nativeDraggable&&(this.options.touchStartThreshold=1),r.supportPointer?tt(l,"pointerdown",this._onTapStart):(tt(l,"mousedown",this._onTapStart),tt(l,"touchstart",this._onTapStart)),this.nativeDraggable&&(tt(l,"dragover",this),tt(l,"dragenter",this)),bn.push(this.el),r.store&&r.store.get&&this.sort(r.store.get(this)||[]),Xt(this,ul())}z.prototype={constructor:z,_isOutsideThisEl:function(r){!this.el.contains(r)&&r!==this.el&&(Oe=null)},_getDirection:function(r,e){return typeof this.options.direction=="function"?this.options.direction.call(this,r,e,L):this.options.direction},_onTapStart:function(r){if(!!r.cancelable){var e=this,a=this.el,n=this.options,o=n.preventOnFilter,t=r.type,i=r.touches&&r.touches[0]||r.pointerType&&r.pointerType==="touch"&&r,s=(i||r).target,d=r.target.shadowRoot&&(r.path&&r.path[0]||r.composedPath&&r.composedPath()[0])||s,u=n.filter;if(Tl(a),!L&&!(/mousedown|pointerdown/.test(t)&&r.button!==0||n.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&We&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Jt(s,n.draggable,a,!1),!(s&&s.animated)&&cn!==s)){if(Ie=yt(s),Ye=yt(s,n.draggable),typeof u=="function"){if(u.call(this,r,s,this)){Nt({sortable:e,rootEl:d,name:"filter",targetEl:s,toEl:a,fromEl:a}),Bt("filter",e,{evt:r}),o&&r.cancelable&&r.preventDefault();return}}else if(u&&(u=u.split(",").some(function(c){if(c=Jt(d,c.trim(),a,!1),c)return Nt({sortable:e,rootEl:c,name:"filter",targetEl:s,fromEl:a,toEl:a}),Bt("filter",e,{evt:r}),!0}),u)){o&&r.cancelable&&r.preventDefault();return}n.handle&&!Jt(d,n.handle,a,!1)||this._prepareDragStart(r,i,s)}}},_prepareDragStart:function(r,e,a){var n=this,o=n.el,t=n.options,i=o.ownerDocument,s;if(a&&!L&&a.parentNode===o){var d=ct(a);if(ut=o,L=a,gt=L.parentNode,me=L.nextSibling,cn=a,nn=t.group,z.dragged=L,he={target:L,clientX:(e||r).clientX,clientY:(e||r).clientY},rr=he.clientX-d.left,or=he.clientY-d.top,this._lastX=(e||r).clientX,this._lastY=(e||r).clientY,L.style["will-change"]="all",s=function(){if(Bt("delayEnded",n,{evt:r}),z.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!qn&&n.nativeDraggable&&(L.draggable=!0),n._triggerDragStart(r,e),Nt({sortable:n,name:"choose",originalEvent:r}),pt(L,t.chosenClass,!0)},t.ignore.split(",").forEach(function(u){vr(L,u.trim(),Rn)}),tt(i,"dragover",ge),tt(i,"mousemove",ge),tt(i,"touchmove",ge),tt(i,"mouseup",n._onDrop),tt(i,"touchend",n._onDrop),tt(i,"touchcancel",n._onDrop),qn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,L.draggable=!0),Bt("delayStart",this,{evt:r}),t.delay&&(!t.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(qe||ie))){if(z.eventCanceled){this._onDrop();return}tt(i,"mouseup",n._disableDelayedDrag),tt(i,"touchend",n._disableDelayedDrag),tt(i,"touchcancel",n._disableDelayedDrag),tt(i,"mousemove",n._delayedDragTouchMoveHandler),tt(i,"touchmove",n._delayedDragTouchMoveHandler),t.supportPointer&&tt(i,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(s,t.delay)}else s()}},_delayedDragTouchMoveHandler:function(r){var e=r.touches?r.touches[0]:r;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){L&&Rn(L),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var r=this.el.ownerDocument;_(r,"mouseup",this._disableDelayedDrag),_(r,"touchend",this._disableDelayedDrag),_(r,"touchcancel",this._disableDelayedDrag),_(r,"mousemove",this._delayedDragTouchMoveHandler),_(r,"touchmove",this._delayedDragTouchMoveHandler),_(r,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(r,e){e=e||r.pointerType=="touch"&&r,!this.nativeDraggable||e?this.options.supportPointer?tt(document,"pointermove",this._onTouchMove):e?tt(document,"touchmove",this._onTouchMove):tt(document,"mousemove",this._onTouchMove):(tt(L,"dragend",this),tt(ut,"dragstart",this._onDragStart));try{document.selection?pn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(r,e){if(De=!1,ut&&L){Bt("dragStarted",this,{evt:e}),this.nativeDraggable&&tt(document,"dragover",ml);var a=this.options;!r&&pt(L,a.dragClass,!1),pt(L,a.ghostClass,!0),z.active=this,r&&this._appendGhost(),Nt({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(zt){this._lastX=zt.clientX,this._lastY=zt.clientY,Sr();for(var r=document.elementFromPoint(zt.clientX,zt.clientY),e=r;r&&r.shadowRoot&&(r=r.shadowRoot.elementFromPoint(zt.clientX,zt.clientY),r!==e);)e=r;if(L.parentNode[Rt]._isOutsideThisEl(r),e)do{if(e[Rt]){var a=void 0;if(a=e[Rt]._onDragOver({clientX:zt.clientX,clientY:zt.clientY,target:r,rootEl:e}),a&&!this.options.dragoverBubble)break}r=e}while(e=e.parentNode);xr()}},_onTouchMove:function(r){if(he){var e=this.options,a=e.fallbackTolerance,n=e.fallbackOffset,o=r.touches?r.touches[0]:r,t=Z&&be(Z,!0),i=Z&&t&&t.a,s=Z&&t&&t.d,d=on&&Pt&&er(Pt),u=(o.clientX-he.clientX+n.x)/(i||1)+(d?d[0]-Fn[0]:0)/(i||1),c=(o.clientY-he.clientY+n.y)/(s||1)+(d?d[1]-Fn[1]:0)/(s||1);if(!z.active&&!De){if(a&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<a)return;this._onDragStart(r,!0)}if(Z){t?(t.e+=u-(An||0),t.f+=c-(Pn||0)):t={a:1,b:0,c:0,d:1,e:u,f:c};var f="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");U(Z,"webkitTransform",f),U(Z,"mozTransform",f),U(Z,"msTransform",f),U(Z,"transform",f),An=u,Pn=c,zt=o}r.cancelable&&r.preventDefault()}},_appendGhost:function(){if(!Z){var r=this.options.fallbackOnBody?document.body:ut,e=ct(L,!0,on,!0,r),a=this.options;if(on){for(Pt=r;U(Pt,"position")==="static"&&U(Pt,"transform")==="none"&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=ee()),e.top+=Pt.scrollTop,e.left+=Pt.scrollLeft):Pt=ee(),Fn=er(Pt)}Z=L.cloneNode(!0),pt(Z,a.ghostClass,!1),pt(Z,a.fallbackClass,!0),pt(Z,a.dragClass,!0),U(Z,"transition",""),U(Z,"transform",""),U(Z,"box-sizing","border-box"),U(Z,"margin",0),U(Z,"top",e.top),U(Z,"left",e.left),U(Z,"width",e.width),U(Z,"height",e.height),U(Z,"opacity","0.8"),U(Z,"position",on?"absolute":"fixed"),U(Z,"zIndex","100000"),U(Z,"pointerEvents","none"),z.ghost=Z,r.appendChild(Z),U(Z,"transform-origin",rr/parseInt(Z.style.width)*100+"% "+or/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(r,e){var a=this,n=r.dataTransfer,o=a.options;if(Bt("dragStart",this,{evt:r}),z.eventCanceled){this._onDrop();return}Bt("setupClone",this),z.eventCanceled||(mt=Xn(L),mt.draggable=!1,mt.style["will-change"]="",this._hideClone(),pt(mt,this.options.chosenClass,!1),z.clone=mt),a.cloneId=pn(function(){Bt("clone",a),!z.eventCanceled&&(a.options.removeCloneOnHide||ut.insertBefore(mt,L),a._hideClone(),Nt({sortable:a,name:"clone"}))}),!e&&pt(L,o.dragClass,!0),e?(yn=!0,a._loopId=setInterval(a._emulateDragOver,50)):(_(document,"mouseup",a._onDrop),_(document,"touchend",a._onDrop),_(document,"touchcancel",a._onDrop),n&&(n.effectAllowed="move",o.setData&&o.setData.call(a,n,L)),tt(document,"drop",a),U(L,"transform","translateZ(0)")),De=!0,a._dragStartId=pn(a._dragStarted.bind(a,e,r)),tt(document,"selectstart",a),Ge=!0,We&&U(document.body,"user-select","none")},_onDragOver:function(r){var e=this.el,a=r.target,n,o,t,i=this.options,s=i.group,d=z.active,u=nn===s,c=i.sort,f=At||d,p,v=this,h=!1;if($n)return;function y(rt,lt){Bt(rt,v,re({evt:r,isOwner:u,axis:p?"vertical":"horizontal",revert:t,dragRect:n,targetRect:o,canSort:c,fromSortable:f,target:a,completed:w,onMove:function(vt,ht){return an(ut,e,L,n,vt,ct(vt),r,ht)},changed:C},lt))}function S(){y("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function w(rt){return y("dragOverCompleted",{insertion:rt}),rt&&(u?d._hideClone():d._showClone(v),v!==f&&(pt(L,At?At.options.ghostClass:d.options.ghostClass,!1),pt(L,i.ghostClass,!0)),At!==v&&v!==z.active?At=v:v===z.active&&At&&(At=null),f===v&&(v._ignoreWhileAnimating=a),v.animateAll(function(){y("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===L&&!L.animated||a===e&&!a.animated)&&(Oe=null),!i.dragoverBubble&&!r.rootEl&&a!==document&&(L.parentNode[Rt]._isOutsideThisEl(r.target),!rt&&ge(r)),!i.dragoverBubble&&r.stopPropagation&&r.stopPropagation(),h=!0}function C(){Kt=yt(L),de=yt(L,i.draggable),Nt({sortable:v,name:"change",toEl:e,newIndex:Kt,newDraggableIndex:de,originalEvent:r})}if(r.preventDefault!==void 0&&r.cancelable&&r.preventDefault(),a=Jt(a,i.draggable,e,!0),y("dragOver"),z.eventCanceled)return h;if(L.contains(r.target)||a.animated&&a.animatingX&&a.animatingY||v._ignoreWhileAnimating===a)return w(!1);if(yn=!1,d&&!i.disabled&&(u?c||(t=gt!==ut):At===this||(this.lastPutMode=nn.checkPull(this,d,L,r))&&s.checkPut(this,d,L,r))){if(p=this._getDirection(r,a)==="vertical",n=ct(L),y("dragOverValid"),z.eventCanceled)return h;if(t)return gt=ut,S(),this._hideClone(),y("revert"),z.eventCanceled||(me?ut.insertBefore(L,me):ut.appendChild(L)),w(!0);var I=Wn(e,i.draggable);if(!I||xl(r,p,this)&&!I.animated){if(I===L)return w(!1);if(I&&e===r.target&&(a=I),a&&(o=ct(a)),an(ut,e,L,n,a,o,r,!!a)!==!1)return S(),e.appendChild(L),gt=e,C(),w(!0)}else if(I&&Sl(r,p,this)){var b=Ae(e,0,i,!0);if(b===L)return w(!1);if(a=b,o=ct(a),an(ut,e,L,n,a,o,r,!1)!==!1)return S(),e.insertBefore(L,b),gt=e,C(),w(!0)}else if(a.parentNode===e){o=ct(a);var m=0,A,O=L.parentNode!==e,g=!hl(L.animated&&L.toRect||n,a.animated&&a.toRect||o,p),T=p?"top":"left",N=tr(a,"top","top")||tr(L,"top","top"),W=N?N.scrollTop:void 0;Oe!==a&&(A=o[T],ke=!1,rn=!g&&i.invertSwap||O),m=wl(r,a,o,p,g?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,rn,Oe===a);var F;if(m!==0){var M=yt(L);do M-=m,F=gt.children[M];while(F&&(U(F,"display")==="none"||F===Z))}if(m===0||F===a)return w(!1);Oe=a,ze=m;var V=a.nextElementSibling,R=!1;R=m===1;var H=an(ut,e,L,n,a,o,r,R);if(H!==!1)return(H===1||H===-1)&&(R=H===1),$n=!0,setTimeout(bl,30),S(),R&&!V?e.appendChild(L):a.parentNode.insertBefore(L,R?V:a),N&&gr(N,0,W-N.scrollTop),gt=L.parentNode,A!==void 0&&!rn&&(fn=Math.abs(A-ct(a)[T])),C(),w(!0)}if(e.contains(L))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",ge),_(document,"mousemove",ge),_(document,"touchmove",ge)},_offUpEvents:function(){var r=this.el.ownerDocument;_(r,"mouseup",this._onDrop),_(r,"touchend",this._onDrop),_(r,"pointerup",this._onDrop),_(r,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(r){var e=this.el,a=this.options;if(Kt=yt(L),de=yt(L,a.draggable),Bt("drop",this,{evt:r}),gt=L&&L.parentNode,Kt=yt(L),de=yt(L,a.draggable),z.eventCanceled){this._nulling();return}De=!1,rn=!1,ke=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Bn(this.cloneId),Bn(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),We&&U(document.body,"user-select",""),U(L,"transform",""),r&&(Ge&&(r.cancelable&&r.preventDefault(),!a.dropBubble&&r.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(ut===gt||At&&At.lastPutMode!=="clone")&&mt&&mt.parentNode&&mt.parentNode.removeChild(mt),L&&(this.nativeDraggable&&_(L,"dragend",this),Rn(L),L.style["will-change"]="",Ge&&!De&&pt(L,At?At.options.ghostClass:this.options.ghostClass,!1),pt(L,this.options.chosenClass,!1),Nt({sortable:this,name:"unchoose",toEl:gt,newIndex:null,newDraggableIndex:null,originalEvent:r}),ut!==gt?(Kt>=0&&(Nt({rootEl:gt,name:"add",toEl:gt,fromEl:ut,originalEvent:r}),Nt({sortable:this,name:"remove",toEl:gt,originalEvent:r}),Nt({rootEl:gt,name:"sort",toEl:gt,fromEl:ut,originalEvent:r}),Nt({sortable:this,name:"sort",toEl:gt,originalEvent:r})),At&&At.save()):Kt!==Ie&&Kt>=0&&(Nt({sortable:this,name:"update",toEl:gt,originalEvent:r}),Nt({sortable:this,name:"sort",toEl:gt,originalEvent:r})),z.active&&((Kt==null||Kt===-1)&&(Kt=Ie,de=Ye),Nt({sortable:this,name:"end",toEl:gt,originalEvent:r}),this.save()))),this._nulling()},_nulling:function(){Bt("nulling",this),ut=L=gt=Z=me=mt=cn=ue=he=zt=Ge=Kt=de=Ie=Ye=Oe=ze=At=nn=z.dragged=z.ghost=z.clone=z.active=null,Sn.forEach(function(r){r.checked=!0}),Sn.length=An=Pn=0},handleEvent:function(r){switch(r.type){case"drop":case"dragend":this._onDrop(r);break;case"dragenter":case"dragover":L&&(this._onDragOver(r),yl(r));break;case"selectstart":r.preventDefault();break}},toArray:function(){for(var r=[],e,a=this.el.children,n=0,o=a.length,t=this.options;n<o;n++)e=a[n],Jt(e,t.draggable,this.el,!1)&&r.push(e.getAttribute(t.dataIdAttr)||Ol(e));return r},sort:function(r,e){var a={},n=this.el;this.toArray().forEach(function(o,t){var i=n.children[t];Jt(i,this.options.draggable,n,!1)&&(a[o]=i)},this),e&&this.captureAnimationState(),r.forEach(function(o){a[o]&&(n.removeChild(a[o]),n.appendChild(a[o]))}),e&&this.animateAll()},save:function(){var r=this.options.store;r&&r.set&&r.set(this)},closest:function(r,e){return Jt(r,e||this.options.draggable,this.el,!1)},option:function(r,e){var a=this.options;if(e===void 0)return a[r];var n=_e.modifyOption(this,r,e);typeof n<"u"?a[r]=n:a[r]=e,r==="group"&&br(a)},destroy:function(){Bt("destroy",this);var r=this.el;r[Rt]=null,_(r,"mousedown",this._onTapStart),_(r,"touchstart",this._onTapStart),_(r,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(r,"dragover",this),_(r,"dragenter",this)),Array.prototype.forEach.call(r.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),bn.splice(bn.indexOf(this.el),1),this.el=r=null},_hideClone:function(){if(!ue){if(Bt("hideClone",this),z.eventCanceled)return;U(mt,"display","none"),this.options.removeCloneOnHide&&mt.parentNode&&mt.parentNode.removeChild(mt),ue=!0}},_showClone:function(r){if(r.lastPutMode!=="clone"){this._hideClone();return}if(ue){if(Bt("showClone",this),z.eventCanceled)return;L.parentNode==ut&&!this.options.group.revertClone?ut.insertBefore(mt,L):me?ut.insertBefore(mt,me):ut.appendChild(mt),this.options.group.revertClone&&this.animate(L,mt),U(mt,"display",""),ue=!1}}};function yl(l){l.dataTransfer&&(l.dataTransfer.dropEffect="move"),l.cancelable&&l.preventDefault()}function an(l,r,e,a,n,o,t,i){var s,d=l[Rt],u=d.options.onMove,c;return window.CustomEvent&&!ie&&!qe?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=r,s.from=l,s.dragged=e,s.draggedRect=a,s.related=n||r,s.relatedRect=o||ct(r),s.willInsertAfter=i,s.originalEvent=t,l.dispatchEvent(s),u&&(c=u.call(d,s,t)),c}function Rn(l){l.draggable=!1}function bl(){$n=!1}function Sl(l,r,e){var a=ct(Ae(e.el,0,e.options,!0)),n=10;return r?l.clientX<a.left-n||l.clientY<a.top&&l.clientX<a.right:l.clientY<a.top-n||l.clientY<a.bottom&&l.clientX<a.left}function xl(l,r,e){var a=ct(Wn(e.el,e.options.draggable)),n=10;return r?l.clientX>a.right+n||l.clientX<=a.right&&l.clientY>a.bottom&&l.clientX>=a.left:l.clientX>a.right&&l.clientY>a.top||l.clientX<=a.right&&l.clientY>a.bottom+n}function wl(l,r,e,a,n,o,t,i){var s=a?l.clientY:l.clientX,d=a?e.height:e.width,u=a?e.top:e.left,c=a?e.bottom:e.right,f=!1;if(!t){if(i&&fn<d*n){if(!ke&&(ze===1?s>u+d*o/2:s<c-d*o/2)&&(ke=!0),ke)f=!0;else if(ze===1?s<u+fn:s>c-fn)return-ze}else if(s>u+d*(1-n)/2&&s<c-d*(1-n)/2)return El(r)}return f=f||t,f&&(s<u+d*o/2||s>c-d*o/2)?s>u+d/2?1:-1:0}function El(l){return yt(L)<yt(l)?1:-1}function Ol(l){for(var r=l.tagName+l.className+l.src+l.href+l.textContent,e=r.length,a=0;e--;)a+=r.charCodeAt(e);return a.toString(36)}function Tl(l){Sn.length=0;for(var r=l.getElementsByTagName("input"),e=r.length;e--;){var a=r[e];a.checked&&Sn.push(a)}}function pn(l){return setTimeout(l,0)}function Bn(l){return clearTimeout(l)}wn&&tt(document,"touchmove",function(l){(z.active||De)&&l.cancelable&&l.preventDefault()});z.utils={on:tt,off:_,css:U,find:vr,is:function(r,e){return!!Jt(r,e,r,!1)},extend:ll,throttle:hr,closest:Jt,toggleClass:pt,clone:Xn,index:yt,nextTick:pn,cancelNextTick:Bn,detectDirection:yr,getChild:Ae};z.get=function(l){return l[Rt]};z.mount=function(){for(var l=arguments.length,r=new Array(l),e=0;e<l;e++)r[e]=arguments[e];r[0].constructor===Array&&(r=r[0]),r.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(z.utils=re(re({},z.utils),a.utils)),_e.mount(a)})};z.create=function(l,r){return new z(l,r)};z.version=ol;var xt=[],He,Un,Vn=!1,Mn,Ln,xn,Ke;function Dl(){function l(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this))}return l.prototype={dragStarted:function(e){var a=e.originalEvent;this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?tt(document,"pointermove",this._handleFallbackAutoScroll):a.touches?tt(document,"touchmove",this._handleFallbackAutoScroll):tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var a=e.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),ir(),vn(),dl()},nulling:function(){xn=Un=He=Vn=Ke=Mn=Ln=null,xt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,a){var n=this,o=(e.touches?e.touches[0]:e).clientX,t=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,t);if(xn=e,a||this.options.forceAutoScrollFallback||qe||ie||We){Nn(e,this.options,i,a);var s=ce(i,!0);Vn&&(!Ke||o!==Mn||t!==Ln)&&(Ke&&ir(),Ke=setInterval(function(){var d=ce(document.elementFromPoint(o,t),!0);d!==s&&(s=d,vn()),Nn(e,n.options,d,a)},10),Mn=o,Ln=t)}else{if(!this.options.bubbleScroll||ce(i,!0)===ee()){vn();return}Nn(e,this.options,ce(i,!1),!1)}}},Xt(l,{pluginName:"scroll",initializeByDefault:!0})}function vn(){xt.forEach(function(l){clearInterval(l.pid)}),xt=[]}function ir(){clearInterval(Ke)}var Nn=hr(function(l,r,e,a){if(!!r.scroll){var n=(l.touches?l.touches[0]:l).clientX,o=(l.touches?l.touches[0]:l).clientY,t=r.scrollSensitivity,i=r.scrollSpeed,s=ee(),d=!1,u;Un!==e&&(Un=e,vn(),He=r.scroll,u=r.scrollFn,He===!0&&(He=ce(e,!0)));var c=0,f=He;do{var p=f,v=ct(p),h=v.top,y=v.bottom,S=v.left,w=v.right,C=v.width,I=v.height,b=void 0,m=void 0,A=p.scrollWidth,O=p.scrollHeight,g=U(p),T=p.scrollLeft,N=p.scrollTop;p===s?(b=C<A&&(g.overflowX==="auto"||g.overflowX==="scroll"||g.overflowX==="visible"),m=I<O&&(g.overflowY==="auto"||g.overflowY==="scroll"||g.overflowY==="visible")):(b=C<A&&(g.overflowX==="auto"||g.overflowX==="scroll"),m=I<O&&(g.overflowY==="auto"||g.overflowY==="scroll"));var W=b&&(Math.abs(w-n)<=t&&T+C<A)-(Math.abs(S-n)<=t&&!!T),F=m&&(Math.abs(y-o)<=t&&N+I<O)-(Math.abs(h-o)<=t&&!!N);if(!xt[c])for(var M=0;M<=c;M++)xt[M]||(xt[M]={});(xt[c].vx!=W||xt[c].vy!=F||xt[c].el!==p)&&(xt[c].el=p,xt[c].vx=W,xt[c].vy=F,clearInterval(xt[c].pid),(W!=0||F!=0)&&(d=!0,xt[c].pid=setInterval(function(){a&&this.layer===0&&z.active._onTouchMove(xn);var V=xt[this.layer].vy?xt[this.layer].vy*i:0,R=xt[this.layer].vx?xt[this.layer].vx*i:0;typeof u=="function"&&u.call(z.dragged.parentNode[Rt],R,V,l,xn,xt[this.layer].el)!=="continue"||gr(xt[this.layer].el,R,V)}.bind({layer:c}),24))),c++}while(r.bubbleScroll&&f!==s&&(f=ce(f,!1)));Vn=d}},30),wr=function(r){var e=r.originalEvent,a=r.putSortable,n=r.dragEl,o=r.activeSortable,t=r.dispatchSortableEvent,i=r.hideGhostForTarget,s=r.unhideGhostForTarget;if(!!e){var d=a||o;i();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);s(),d&&!d.el.contains(c)&&(t("spill"),this.onSpill({dragEl:n,putSortable:a}))}};function Yn(){}Yn.prototype={startIndex:null,dragStart:function(r){var e=r.oldDraggableIndex;this.startIndex=e},onSpill:function(r){var e=r.dragEl,a=r.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var n=Ae(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),a&&a.animateAll()},drop:wr};Xt(Yn,{pluginName:"revertOnSpill"});function zn(){}zn.prototype={onSpill:function(r){var e=r.dragEl,a=r.putSortable,n=a||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:wr};Xt(zn,{pluginName:"removeOnSpill"});var Wt;function Il(){function l(){this.defaults={swapClass:"sortable-swap-highlight"}}return l.prototype={dragStart:function(e){var a=e.dragEl;Wt=a},dragOverValid:function(e){var a=e.completed,n=e.target,o=e.onMove,t=e.activeSortable,i=e.changed,s=e.cancel;if(!!t.options.swap){var d=this.sortable.el,u=this.options;if(n&&n!==d){var c=Wt;o(n)!==!1?(pt(n,u.swapClass,!0),Wt=n):Wt=null,c&&c!==Wt&&pt(c,u.swapClass,!1)}i(),a(!0),s()}},drop:function(e){var a=e.activeSortable,n=e.putSortable,o=e.dragEl,t=n||this.sortable,i=this.options;Wt&&pt(Wt,i.swapClass,!1),Wt&&(i.swap||n&&n.options.swap)&&o!==Wt&&(t.captureAnimationState(),t!==a&&a.captureAnimationState(),Cl(o,Wt),t.animateAll(),t!==a&&a.animateAll())},nulling:function(){Wt=null}},Xt(l,{pluginName:"swap",eventProperties:function(){return{swapItem:Wt}}})}function Cl(l,r){var e=l.parentNode,a=r.parentNode,n,o;!e||!a||e.isEqualNode(r)||a.isEqualNode(l)||(n=yt(l),o=yt(r),e.isEqualNode(a)&&n<o&&o++,e.insertBefore(r,e.children[n]),a.insertBefore(l,a.children[o]))}var Q=[],Ht=[],$e,kt,Be=!1,Ut=!1,Te=!1,it,Ue,sn;function Al(){function l(r){for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this));r.options.supportPointer?tt(document,"pointerup",this._deselectMultiDrag):(tt(document,"mouseup",this._deselectMultiDrag),tt(document,"touchend",this._deselectMultiDrag)),tt(document,"keydown",this._checkKeyDown),tt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(n,o){var t="";Q.length&&kt===r?Q.forEach(function(i,s){t+=(s?", ":"")+i.textContent}):t=o.textContent,n.setData("Text",t)}}}return l.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var a=e.dragEl;it=a},delayEnded:function(){this.isMultiDrag=~Q.indexOf(it)},setupClone:function(e){var a=e.sortable,n=e.cancel;if(!!this.isMultiDrag){for(var o=0;o<Q.length;o++)Ht.push(Xn(Q[o])),Ht[o].sortableIndex=Q[o].sortableIndex,Ht[o].draggable=!1,Ht[o].style["will-change"]="",pt(Ht[o],this.options.selectedClass,!1),Q[o]===it&&pt(Ht[o],this.options.chosenClass,!1);a._hideClone(),n()}},clone:function(e){var a=e.sortable,n=e.rootEl,o=e.dispatchSortableEvent,t=e.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Q.length&&kt===a&&(sr(!0,n),o("clone"),t())},showClone:function(e){var a=e.cloneNowShown,n=e.rootEl,o=e.cancel;!this.isMultiDrag||(sr(!1,n),Ht.forEach(function(t){U(t,"display","")}),a(),sn=!1,o())},hideClone:function(e){var a=this;e.sortable;var n=e.cloneNowHidden,o=e.cancel;!this.isMultiDrag||(Ht.forEach(function(t){U(t,"display","none"),a.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),sn=!0,o())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&kt&&kt.multiDrag._deselectMultiDrag(),Q.forEach(function(a){a.sortableIndex=yt(a)}),Q=Q.sort(function(a,n){return a.sortableIndex-n.sortableIndex}),Te=!0},dragStarted:function(e){var a=this,n=e.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Q.forEach(function(t){t!==it&&U(t,"position","absolute")});var o=ct(it,!1,!0,!0);Q.forEach(function(t){t!==it&&nr(t,o)}),Ut=!0,Be=!0}n.animateAll(function(){Ut=!1,Be=!1,a.options.animation&&Q.forEach(function(t){In(t)}),a.options.sort&&ln()})}},dragOver:function(e){var a=e.target,n=e.completed,o=e.cancel;Ut&&~Q.indexOf(a)&&(n(!1),o())},revert:function(e){var a=e.fromSortable,n=e.rootEl,o=e.sortable,t=e.dragRect;Q.length>1&&(Q.forEach(function(i){o.addAnimationState({target:i,rect:Ut?ct(i):t}),In(i),i.fromRect=t,a.removeAnimationState(i)}),Ut=!1,Pl(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var a=e.sortable,n=e.isOwner,o=e.insertion,t=e.activeSortable,i=e.parentEl,s=e.putSortable,d=this.options;if(o){if(n&&t._hideClone(),Be=!1,d.animation&&Q.length>1&&(Ut||!n&&!t.options.sort&&!s)){var u=ct(it,!1,!0,!0);Q.forEach(function(f){f!==it&&(nr(f,u),i.appendChild(f))}),Ut=!0}if(!n)if(Ut||ln(),Q.length>1){var c=sn;t._showClone(a),t.options.animation&&!sn&&c&&Ht.forEach(function(f){t.addAnimationState({target:f,rect:Ue}),f.fromRect=Ue,f.thisAnimationDuration=null})}else t._showClone(a)}},dragOverAnimationCapture:function(e){var a=e.dragRect,n=e.isOwner,o=e.activeSortable;if(Q.forEach(function(i){i.thisAnimationDuration=null}),o.options.animation&&!n&&o.multiDrag.isMultiDrag){Ue=Xt({},a);var t=be(it,!0);Ue.top-=t.f,Ue.left-=t.e}},dragOverAnimationComplete:function(){Ut&&(Ut=!1,ln())},drop:function(e){var a=e.originalEvent,n=e.rootEl,o=e.parentEl,t=e.sortable,i=e.dispatchSortableEvent,s=e.oldIndex,d=e.putSortable,u=d||this.sortable;if(!!a){var c=this.options,f=o.children;if(!Te)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),pt(it,c.selectedClass,!~Q.indexOf(it)),~Q.indexOf(it))Q.splice(Q.indexOf(it),1),$e=null,Ve({sortable:t,rootEl:n,name:"deselect",targetEl:it,originalEvt:a});else{if(Q.push(it),Ve({sortable:t,rootEl:n,name:"select",targetEl:it,originalEvt:a}),a.shiftKey&&$e&&t.el.contains($e)){var p=yt($e),v=yt(it);if(~p&&~v&&p!==v){var h,y;for(v>p?(y=p,h=v):(y=v,h=p+1);y<h;y++)~Q.indexOf(f[y])||(pt(f[y],c.selectedClass,!0),Q.push(f[y]),Ve({sortable:t,rootEl:n,name:"select",targetEl:f[y],originalEvt:a}))}}else $e=it;kt=u}if(Te&&this.isMultiDrag){if(Ut=!1,(o[Rt].options.sort||o!==n)&&Q.length>1){var S=ct(it),w=yt(it,":not(."+this.options.selectedClass+")");if(!Be&&c.animation&&(it.thisAnimationDuration=null),u.captureAnimationState(),!Be&&(c.animation&&(it.fromRect=S,Q.forEach(function(I){if(I.thisAnimationDuration=null,I!==it){var b=Ut?ct(I):S;I.fromRect=b,u.addAnimationState({target:I,rect:b})}})),ln(),Q.forEach(function(I){f[w]?o.insertBefore(I,f[w]):o.appendChild(I),w++}),s===yt(it))){var C=!1;Q.forEach(function(I){if(I.sortableIndex!==yt(I)){C=!0;return}}),C&&i("update")}Q.forEach(function(I){In(I)}),u.animateAll()}kt=u}(n===o||d&&d.lastPutMode!=="clone")&&Ht.forEach(function(I){I.parentNode&&I.parentNode.removeChild(I)})}},nullingGlobal:function(){this.isMultiDrag=Te=!1,Ht.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_(document,"pointerup",this._deselectMultiDrag),_(document,"mouseup",this._deselectMultiDrag),_(document,"touchend",this._deselectMultiDrag),_(document,"keydown",this._checkKeyDown),_(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(typeof Te<"u"&&Te)&&kt===this.sortable&&!(e&&Jt(e.target,this.options.draggable,this.sortable.el,!1))&&!(e&&e.button!==0))for(;Q.length;){var a=Q[0];pt(a,this.options.selectedClass,!1),Q.shift(),Ve({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Xt(l,{pluginName:"multiDrag",utils:{select:function(e){var a=e.parentNode[Rt];!a||!a.options.multiDrag||~Q.indexOf(e)||(kt&&kt!==a&&(kt.multiDrag._deselectMultiDrag(),kt=a),pt(e,a.options.selectedClass,!0),Q.push(e))},deselect:function(e){var a=e.parentNode[Rt],n=Q.indexOf(e);!a||!a.options.multiDrag||!~n||(pt(e,a.options.selectedClass,!1),Q.splice(n,1))}},eventProperties:function(){var e=this,a=[],n=[];return Q.forEach(function(o){a.push({multiDragElement:o,index:o.sortableIndex});var t;Ut&&o!==it?t=-1:Ut?t=yt(o,":not(."+e.options.selectedClass+")"):t=yt(o),n.push({multiDragElement:o,index:t})}),{items:_s(Q),clones:[].concat(Ht),oldIndicies:a,newIndicies:n}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),e==="ctrl"?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Pl(l,r){Q.forEach(function(e,a){var n=r.children[e.sortableIndex+(l?Number(a):0)];n?r.insertBefore(e,n):r.appendChild(e)})}function sr(l,r){Ht.forEach(function(e,a){var n=r.children[e.sortableIndex+(l?Number(a):0)];n?r.insertBefore(e,n):r.appendChild(e)})}function ln(){Q.forEach(function(l){l!==it&&l.parentNode&&l.parentNode.removeChild(l)})}z.mount(new Dl);z.mount(zn,Yn);const Fl=Object.freeze(Object.defineProperty({__proto__:null,default:z,MultiDrag:Al,Sortable:z,Swap:Il},Symbol.toStringTag,{value:"Module"})),Rl=ur(Fl);(function(l,r){(function(a,n){l.exports=n(Js,Rl)})(typeof self<"u"?self:li,function(e,a){return function(n){var o={};function t(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=n,t.c=o,t.d=function(i,s,d){t.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:d})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,s){if(s&1&&(i=t(i)),s&8||s&4&&typeof i=="object"&&i&&i.__esModule)return i;var d=Object.create(null);if(t.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:i}),s&2&&typeof i!="string")for(var u in i)t.d(d,u,function(c){return i[c]}.bind(null,u));return d},t.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(s,"a",s),s},t.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},t.p="",t(t.s="fb15")}({"00ee":function(n,o,t){var i=t("b622"),s=i("toStringTag"),d={};d[s]="z",n.exports=String(d)==="[object z]"},"0366":function(n,o,t){var i=t("1c0b");n.exports=function(s,d,u){if(i(s),d===void 0)return s;switch(u){case 0:return function(){return s.call(d)};case 1:return function(c){return s.call(d,c)};case 2:return function(c,f){return s.call(d,c,f)};case 3:return function(c,f,p){return s.call(d,c,f,p)}}return function(){return s.apply(d,arguments)}}},"057f":function(n,o,t){var i=t("fc6a"),s=t("241c").f,d={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(f){try{return s(f)}catch{return u.slice()}};n.exports.f=function(p){return u&&d.call(p)=="[object Window]"?c(p):s(i(p))}},"06cf":function(n,o,t){var i=t("83ab"),s=t("d1e7"),d=t("5c6c"),u=t("fc6a"),c=t("c04e"),f=t("5135"),p=t("0cfb"),v=Object.getOwnPropertyDescriptor;o.f=i?v:function(y,S){if(y=u(y),S=c(S,!0),p)try{return v(y,S)}catch{}if(f(y,S))return d(!s.f.call(y,S),y[S])}},"0cfb":function(n,o,t){var i=t("83ab"),s=t("d039"),d=t("cc12");n.exports=!i&&!s(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(n,o,t){var i=t("23e7"),s=t("d58f").left,d=t("a640"),u=t("ae40"),c=d("reduce"),f=u("reduce",{1:0});i({target:"Array",proto:!0,forced:!c||!f},{reduce:function(v){return s(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(n,o,t){var i=t("c6b6"),s=t("9263");n.exports=function(d,u){var c=d.exec;if(typeof c=="function"){var f=c.call(d,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(i(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(d,u)}},"159b":function(n,o,t){var i=t("da84"),s=t("fdbc"),d=t("17c2"),u=t("9112");for(var c in s){var f=i[c],p=f&&f.prototype;if(p&&p.forEach!==d)try{u(p,"forEach",d)}catch{p.forEach=d}}},"17c2":function(n,o,t){var i=t("b727").forEach,s=t("a640"),d=t("ae40"),u=s("forEach"),c=d("forEach");n.exports=!u||!c?function(p){return i(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(n,o,t){var i=t("d066");n.exports=i("document","documentElement")},"1c0b":function(n,o){n.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(n,o,t){var i=t("b622"),s=i("iterator"),d=!1;try{var u=0,c={next:function(){return{done:!!u++}},return:function(){d=!0}};c[s]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(f,p){if(!p&&!d)return!1;var v=!1;try{var h={};h[s]=function(){return{next:function(){return{done:v=!0}}}},f(h)}catch{}return v}},"1d80":function(n,o){n.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(n,o,t){var i=t("d039"),s=t("b622"),d=t("2d00"),u=s("species");n.exports=function(c){return d>=51||!i(function(){var f=[],p=f.constructor={};return p[u]=function(){return{foo:1}},f[c](Boolean).foo!==1})}},"23cb":function(n,o,t){var i=t("a691"),s=Math.max,d=Math.min;n.exports=function(u,c){var f=i(u);return f<0?s(f+c,0):d(f,c)}},"23e7":function(n,o,t){var i=t("da84"),s=t("06cf").f,d=t("9112"),u=t("6eeb"),c=t("ce4e"),f=t("e893"),p=t("94ca");n.exports=function(v,h){var y=v.target,S=v.global,w=v.stat,C,I,b,m,A,O;if(S?I=i:w?I=i[y]||c(y,{}):I=(i[y]||{}).prototype,I)for(b in h){if(A=h[b],v.noTargetGet?(O=s(I,b),m=O&&O.value):m=I[b],C=p(S?b:y+(w?".":"#")+b,v.forced),!C&&m!==void 0){if(typeof A==typeof m)continue;f(A,m)}(v.sham||m&&m.sham)&&d(A,"sham",!0),u(I,b,A,v)}}},"241c":function(n,o,t){var i=t("ca84"),s=t("7839"),d=s.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(c){return i(c,d)}},"25f0":function(n,o,t){var i=t("6eeb"),s=t("825a"),d=t("d039"),u=t("ad6d"),c="toString",f=RegExp.prototype,p=f[c],v=d(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),h=p.name!=c;(v||h)&&i(RegExp.prototype,c,function(){var S=s(this),w=String(S.source),C=S.flags,I=String(C===void 0&&S instanceof RegExp&&!("flags"in f)?u.call(S):C);return"/"+w+"/"+I},{unsafe:!0})},"2ca0":function(n,o,t){var i=t("23e7"),s=t("06cf").f,d=t("50c4"),u=t("5a34"),c=t("1d80"),f=t("ab13"),p=t("c430"),v="".startsWith,h=Math.min,y=f("startsWith"),S=!p&&!y&&!!function(){var w=s(String.prototype,"startsWith");return w&&!w.writable}();i({target:"String",proto:!0,forced:!S&&!y},{startsWith:function(C){var I=String(c(this));u(C);var b=d(h(arguments.length>1?arguments[1]:void 0,I.length)),m=String(C);return v?v.call(I,m,b):I.slice(b,b+m.length)===m}})},"2d00":function(n,o,t){var i=t("da84"),s=t("342f"),d=i.process,u=d&&d.versions,c=u&&u.v8,f,p;c?(f=c.split("."),p=f[0]+f[1]):s&&(f=s.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=s.match(/Chrome\/(\d+)/),f&&(p=f[1]))),n.exports=p&&+p},"342f":function(n,o,t){var i=t("d066");n.exports=i("navigator","userAgent")||""},"35a1":function(n,o,t){var i=t("f5df"),s=t("3f8c"),d=t("b622"),u=d("iterator");n.exports=function(c){if(c!=null)return c[u]||c["@@iterator"]||s[i(c)]}},"37e8":function(n,o,t){var i=t("83ab"),s=t("9bf2"),d=t("825a"),u=t("df75");n.exports=i?Object.defineProperties:function(f,p){d(f);for(var v=u(p),h=v.length,y=0,S;h>y;)s.f(f,S=v[y++],p[S]);return f}},"3bbe":function(n,o,t){var i=t("861d");n.exports=function(s){if(!i(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},"3ca3":function(n,o,t){var i=t("6547").charAt,s=t("69f3"),d=t("7dd0"),u="String Iterator",c=s.set,f=s.getterFor(u);d(String,"String",function(p){c(this,{type:u,string:String(p),index:0})},function(){var v=f(this),h=v.string,y=v.index,S;return y>=h.length?{value:void 0,done:!0}:(S=i(h,y),v.index+=S.length,{value:S,done:!1})})},"3f8c":function(n,o){n.exports={}},4160:function(n,o,t){var i=t("23e7"),s=t("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"428f":function(n,o,t){var i=t("da84");n.exports=i},"44ad":function(n,o,t){var i=t("d039"),s=t("c6b6"),d="".split;n.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return s(u)=="String"?d.call(u,""):Object(u)}:Object},"44d2":function(n,o,t){var i=t("b622"),s=t("7c73"),d=t("9bf2"),u=i("unscopables"),c=Array.prototype;c[u]==null&&d.f(c,u,{configurable:!0,value:s(null)}),n.exports=function(f){c[u][f]=!0}},"44e7":function(n,o,t){var i=t("861d"),s=t("c6b6"),d=t("b622"),u=d("match");n.exports=function(c){var f;return i(c)&&((f=c[u])!==void 0?!!f:s(c)=="RegExp")}},4930:function(n,o,t){var i=t("d039");n.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(n,o,t){var i=t("fc6a"),s=t("50c4"),d=t("23cb"),u=function(c){return function(f,p,v){var h=i(f),y=s(h.length),S=d(v,y),w;if(c&&p!=p){for(;y>S;)if(w=h[S++],w!=w)return!0}else for(;y>S;S++)if((c||S in h)&&h[S]===p)return c||S||0;return!c&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(n,o,t){var i=t("23e7"),s=t("b727").filter,d=t("1dde"),u=t("ae40"),c=d("filter"),f=u("filter");i({target:"Array",proto:!0,forced:!c||!f},{filter:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(n,o,t){var i=t("0366"),s=t("7b0b"),d=t("9bdd"),u=t("e95a"),c=t("50c4"),f=t("8418"),p=t("35a1");n.exports=function(h){var y=s(h),S=typeof this=="function"?this:Array,w=arguments.length,C=w>1?arguments[1]:void 0,I=C!==void 0,b=p(y),m=0,A,O,g,T,N,W;if(I&&(C=i(C,w>2?arguments[2]:void 0,2)),b!=null&&!(S==Array&&u(b)))for(T=b.call(y),N=T.next,O=new S;!(g=N.call(T)).done;m++)W=I?d(T,C,[g.value,m],!0):g.value,f(O,m,W);else for(A=c(y.length),O=new S(A);A>m;m++)W=I?C(y[m],m):y[m],f(O,m,W);return O.length=m,O}},"4fad":function(n,o,t){var i=t("23e7"),s=t("6f53").entries;i({target:"Object",stat:!0},{entries:function(u){return s(u)}})},"50c4":function(n,o,t){var i=t("a691"),s=Math.min;n.exports=function(d){return d>0?s(i(d),9007199254740991):0}},5135:function(n,o){var t={}.hasOwnProperty;n.exports=function(i,s){return t.call(i,s)}},5319:function(n,o,t){var i=t("d784"),s=t("825a"),d=t("7b0b"),u=t("50c4"),c=t("a691"),f=t("1d80"),p=t("8aa5"),v=t("14c3"),h=Math.max,y=Math.min,S=Math.floor,w=/\$([$&'`]|\d\d?|<[^>]*>)/g,C=/\$([$&'`]|\d\d?)/g,I=function(b){return b===void 0?b:String(b)};i("replace",2,function(b,m,A,O){var g=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=O.REPLACE_KEEPS_$0,N=g?"$":"$0";return[function(M,V){var R=f(this),H=M==null?void 0:M[b];return H!==void 0?H.call(M,R,V):m.call(String(R),M,V)},function(F,M){if(!g&&T||typeof M=="string"&&M.indexOf(N)===-1){var V=A(m,F,this,M);if(V.done)return V.value}var R=s(F),H=String(this),rt=typeof M=="function";rt||(M=String(M));var lt=R.global;if(lt){var Dt=R.unicode;R.lastIndex=0}for(var vt=[];;){var ht=v(R,H);if(ht===null||(vt.push(ht),!lt))break;var Et=String(ht[0]);Et===""&&(R.lastIndex=p(H,u(R.lastIndex),Dt))}for(var Ot="",St=0,dt=0;dt<vt.length;dt++){ht=vt[dt];for(var ft=String(ht[0]),Gt=h(y(c(ht.index),H.length),0),Mt=[],oe=1;oe<ht.length;oe++)Mt.push(I(ht[oe]));var pe=ht.groups;if(rt){var se=[ft].concat(Mt,Gt,H);pe!==void 0&&se.push(pe);var It=String(M.apply(void 0,se))}else It=W(ft,H,Gt,Mt,pe,M);Gt>=St&&(Ot+=H.slice(St,Gt)+It,St=Gt+ft.length)}return Ot+H.slice(St)}];function W(F,M,V,R,H,rt){var lt=V+F.length,Dt=R.length,vt=C;return H!==void 0&&(H=d(H),vt=w),m.call(rt,vt,function(ht,Et){var Ot;switch(Et.charAt(0)){case"$":return"$";case"&":return F;case"`":return M.slice(0,V);case"'":return M.slice(lt);case"<":Ot=H[Et.slice(1,-1)];break;default:var St=+Et;if(St===0)return ht;if(St>Dt){var dt=S(St/10);return dt===0?ht:dt<=Dt?R[dt-1]===void 0?Et.charAt(1):R[dt-1]+Et.charAt(1):ht}Ot=R[St-1]}return Ot===void 0?"":Ot})}})},5692:function(n,o,t){var i=t("c430"),s=t("c6cd");(n.exports=function(d,u){return s[d]||(s[d]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(n,o,t){var i=t("d066"),s=t("241c"),d=t("7418"),u=t("825a");n.exports=i("Reflect","ownKeys")||function(f){var p=s.f(u(f)),v=d.f;return v?p.concat(v(f)):p}},"5a34":function(n,o,t){var i=t("44e7");n.exports=function(s){if(i(s))throw TypeError("The method doesn't accept regular expressions");return s}},"5c6c":function(n,o){n.exports=function(t,i){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:i}}},"5db7":function(n,o,t){var i=t("23e7"),s=t("a2bf"),d=t("7b0b"),u=t("50c4"),c=t("1c0b"),f=t("65f0");i({target:"Array",proto:!0},{flatMap:function(v){var h=d(this),y=u(h.length),S;return c(v),S=f(h,0),S.length=s(S,h,h,y,0,1,v,arguments.length>1?arguments[1]:void 0),S}})},6547:function(n,o,t){var i=t("a691"),s=t("1d80"),d=function(u){return function(c,f){var p=String(s(c)),v=i(f),h=p.length,y,S;return v<0||v>=h?u?"":void 0:(y=p.charCodeAt(v),y<55296||y>56319||v+1===h||(S=p.charCodeAt(v+1))<56320||S>57343?u?p.charAt(v):y:u?p.slice(v,v+2):(y-55296<<10)+(S-56320)+65536)}};n.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(n,o,t){var i=t("861d"),s=t("e8b5"),d=t("b622"),u=d("species");n.exports=function(c,f){var p;return s(c)&&(p=c.constructor,typeof p=="function"&&(p===Array||s(p.prototype))?p=void 0:i(p)&&(p=p[u],p===null&&(p=void 0))),new(p===void 0?Array:p)(f===0?0:f)}},"69f3":function(n,o,t){var i=t("7f9a"),s=t("da84"),d=t("861d"),u=t("9112"),c=t("5135"),f=t("f772"),p=t("d012"),v=s.WeakMap,h,y,S,w=function(g){return S(g)?y(g):h(g,{})},C=function(g){return function(T){var N;if(!d(T)||(N=y(T)).type!==g)throw TypeError("Incompatible receiver, "+g+" required");return N}};if(i){var I=new v,b=I.get,m=I.has,A=I.set;h=function(g,T){return A.call(I,g,T),T},y=function(g){return b.call(I,g)||{}},S=function(g){return m.call(I,g)}}else{var O=f("state");p[O]=!0,h=function(g,T){return u(g,O,T),T},y=function(g){return c(g,O)?g[O]:{}},S=function(g){return c(g,O)}}n.exports={set:h,get:y,has:S,enforce:w,getterFor:C}},"6eeb":function(n,o,t){var i=t("da84"),s=t("9112"),d=t("5135"),u=t("ce4e"),c=t("8925"),f=t("69f3"),p=f.get,v=f.enforce,h=String(String).split("String");(n.exports=function(y,S,w,C){var I=C?!!C.unsafe:!1,b=C?!!C.enumerable:!1,m=C?!!C.noTargetGet:!1;if(typeof w=="function"&&(typeof S=="string"&&!d(w,"name")&&s(w,"name",S),v(w).source=h.join(typeof S=="string"?S:"")),y===i){b?y[S]=w:u(S,w);return}else I?!m&&y[S]&&(b=!0):delete y[S];b?y[S]=w:s(y,S,w)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||c(this)})},"6f53":function(n,o,t){var i=t("83ab"),s=t("df75"),d=t("fc6a"),u=t("d1e7").f,c=function(f){return function(p){for(var v=d(p),h=s(v),y=h.length,S=0,w=[],C;y>S;)C=h[S++],(!i||u.call(v,C))&&w.push(f?[C,v[C]]:v[C]);return w}};n.exports={entries:c(!0),values:c(!1)}},"73d9":function(n,o,t){var i=t("44d2");i("flatMap")},7418:function(n,o){o.f=Object.getOwnPropertySymbols},"746f":function(n,o,t){var i=t("428f"),s=t("5135"),d=t("e538"),u=t("9bf2").f;n.exports=function(c){var f=i.Symbol||(i.Symbol={});s(f,c)||u(f,c,{value:d.f(c)})}},7839:function(n,o){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(n,o,t){var i=t("1d80");n.exports=function(s){return Object(i(s))}},"7c73":function(n,o,t){var i=t("825a"),s=t("37e8"),d=t("7839"),u=t("d012"),c=t("1be4"),f=t("cc12"),p=t("f772"),v=">",h="<",y="prototype",S="script",w=p("IE_PROTO"),C=function(){},I=function(g){return h+S+v+g+h+"/"+S+v},b=function(g){g.write(I("")),g.close();var T=g.parentWindow.Object;return g=null,T},m=function(){var g=f("iframe"),T="java"+S+":",N;return g.style.display="none",c.appendChild(g),g.src=String(T),N=g.contentWindow.document,N.open(),N.write(I("document.F=Object")),N.close(),N.F},A,O=function(){try{A=document.domain&&new ActiveXObject("htmlfile")}catch{}O=A?b(A):m();for(var g=d.length;g--;)delete O[y][d[g]];return O()};u[w]=!0,n.exports=Object.create||function(T,N){var W;return T!==null?(C[y]=i(T),W=new C,C[y]=null,W[w]=T):W=O(),N===void 0?W:s(W,N)}},"7dd0":function(n,o,t){var i=t("23e7"),s=t("9ed3"),d=t("e163"),u=t("d2bb"),c=t("d44e"),f=t("9112"),p=t("6eeb"),v=t("b622"),h=t("c430"),y=t("3f8c"),S=t("ae93"),w=S.IteratorPrototype,C=S.BUGGY_SAFARI_ITERATORS,I=v("iterator"),b="keys",m="values",A="entries",O=function(){return this};n.exports=function(g,T,N,W,F,M,V){s(N,T,W);var R=function(dt){if(dt===F&&vt)return vt;if(!C&&dt in lt)return lt[dt];switch(dt){case b:return function(){return new N(this,dt)};case m:return function(){return new N(this,dt)};case A:return function(){return new N(this,dt)}}return function(){return new N(this)}},H=T+" Iterator",rt=!1,lt=g.prototype,Dt=lt[I]||lt["@@iterator"]||F&&lt[F],vt=!C&&Dt||R(F),ht=T=="Array"&&lt.entries||Dt,Et,Ot,St;if(ht&&(Et=d(ht.call(new g)),w!==Object.prototype&&Et.next&&(!h&&d(Et)!==w&&(u?u(Et,w):typeof Et[I]!="function"&&f(Et,I,O)),c(Et,H,!0,!0),h&&(y[H]=O))),F==m&&Dt&&Dt.name!==m&&(rt=!0,vt=function(){return Dt.call(this)}),(!h||V)&&lt[I]!==vt&&f(lt,I,vt),y[T]=vt,F)if(Ot={values:R(m),keys:M?vt:R(b),entries:R(A)},V)for(St in Ot)(C||rt||!(St in lt))&&p(lt,St,Ot[St]);else i({target:T,proto:!0,forced:C||rt},Ot);return Ot}},"7f9a":function(n,o,t){var i=t("da84"),s=t("8925"),d=i.WeakMap;n.exports=typeof d=="function"&&/native code/.test(s(d))},"825a":function(n,o,t){var i=t("861d");n.exports=function(s){if(!i(s))throw TypeError(String(s)+" is not an object");return s}},"83ab":function(n,o,t){var i=t("d039");n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(n,o,t){var i=t("c04e"),s=t("9bf2"),d=t("5c6c");n.exports=function(u,c,f){var p=i(c);p in u?s.f(u,p,d(0,f)):u[p]=f}},"861d":function(n,o){n.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(n,o,t){var i,s,d;(function(u,c){s=[],i=c,d=typeof i=="function"?i.apply(o,s):i,d!==void 0&&(n.exports=d)})(typeof self<"u"?self:this,function(){function u(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(A){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,v=f.exec(A.stack)||p.exec(A.stack),h=v&&v[1]||!1,y=v&&v[2]||!1,S=document.location.href.replace(document.location.hash,""),w,C,I,b=document.getElementsByTagName("script");h===S&&(w=document.documentElement.outerHTML,C=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),I=w.replace(C,"$1").trim());for(var m=0;m<b.length;m++)if(b[m].readyState==="interactive"||b[m].src===h||h===S&&b[m].innerHTML&&b[m].innerHTML.trim()===I)return b[m];return null}}return u})},8925:function(n,o,t){var i=t("c6cd"),s=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(d){return s.call(d)}),n.exports=i.inspectSource},"8aa5":function(n,o,t){var i=t("6547").charAt;n.exports=function(s,d,u){return d+(u?i(s,d).length:1)}},"8bbf":function(n,o){n.exports=e},"90e3":function(n,o){var t=0,i=Math.random();n.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++t+i).toString(36)}},9112:function(n,o,t){var i=t("83ab"),s=t("9bf2"),d=t("5c6c");n.exports=i?function(u,c,f){return s.f(u,c,d(1,f))}:function(u,c,f){return u[c]=f,u}},9263:function(n,o,t){var i=t("ad6d"),s=t("9f7f"),d=RegExp.prototype.exec,u=String.prototype.replace,c=d,f=function(){var y=/a/,S=/b*/g;return d.call(y,"a"),d.call(S,"a"),y.lastIndex!==0||S.lastIndex!==0}(),p=s.UNSUPPORTED_Y||s.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0,h=f||v||p;h&&(c=function(S){var w=this,C,I,b,m,A=p&&w.sticky,O=i.call(w),g=w.source,T=0,N=S;return A&&(O=O.replace("y",""),O.indexOf("g")===-1&&(O+="g"),N=String(S).slice(w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&S[w.lastIndex-1]!==`
`)&&(g="(?: "+g+")",N=" "+N,T++),I=new RegExp("^(?:"+g+")",O)),v&&(I=new RegExp("^"+g+"$(?!\\s)",O)),f&&(C=w.lastIndex),b=d.call(A?I:w,N),A?b?(b.input=b.input.slice(T),b[0]=b[0].slice(T),b.index=w.lastIndex,w.lastIndex+=b[0].length):w.lastIndex=0:f&&b&&(w.lastIndex=w.global?b.index+b[0].length:C),v&&b&&b.length>1&&u.call(b[0],I,function(){for(m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(b[m]=void 0)}),b}),n.exports=c},"94ca":function(n,o,t){var i=t("d039"),s=/#|\.prototype\./,d=function(v,h){var y=c[u(v)];return y==p?!0:y==f?!1:typeof h=="function"?i(h):!!h},u=d.normalize=function(v){return String(v).replace(s,".").toLowerCase()},c=d.data={},f=d.NATIVE="N",p=d.POLYFILL="P";n.exports=d},"99af":function(n,o,t){var i=t("23e7"),s=t("d039"),d=t("e8b5"),u=t("861d"),c=t("7b0b"),f=t("50c4"),p=t("8418"),v=t("65f0"),h=t("1dde"),y=t("b622"),S=t("2d00"),w=y("isConcatSpreadable"),C=9007199254740991,I="Maximum allowed index exceeded",b=S>=51||!s(function(){var g=[];return g[w]=!1,g.concat()[0]!==g}),m=h("concat"),A=function(g){if(!u(g))return!1;var T=g[w];return T!==void 0?!!T:d(g)},O=!b||!m;i({target:"Array",proto:!0,forced:O},{concat:function(T){var N=c(this),W=v(N,0),F=0,M,V,R,H,rt;for(M=-1,R=arguments.length;M<R;M++)if(rt=M===-1?N:arguments[M],A(rt)){if(H=f(rt.length),F+H>C)throw TypeError(I);for(V=0;V<H;V++,F++)V in rt&&p(W,F,rt[V])}else{if(F>=C)throw TypeError(I);p(W,F++,rt)}return W.length=F,W}})},"9bdd":function(n,o,t){var i=t("825a");n.exports=function(s,d,u,c){try{return c?d(i(u)[0],u[1]):d(u)}catch(p){var f=s.return;throw f!==void 0&&i(f.call(s)),p}}},"9bf2":function(n,o,t){var i=t("83ab"),s=t("0cfb"),d=t("825a"),u=t("c04e"),c=Object.defineProperty;o.f=i?c:function(p,v,h){if(d(p),v=u(v,!0),d(h),s)try{return c(p,v,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(p[v]=h.value),p}},"9ed3":function(n,o,t){var i=t("ae93").IteratorPrototype,s=t("7c73"),d=t("5c6c"),u=t("d44e"),c=t("3f8c"),f=function(){return this};n.exports=function(p,v,h){var y=v+" Iterator";return p.prototype=s(i,{next:d(1,h)}),u(p,y,!1,!0),c[y]=f,p}},"9f7f":function(n,o,t){var i=t("d039");function s(d,u){return RegExp(d,u)}o.UNSUPPORTED_Y=i(function(){var d=s("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),o.BROKEN_CARET=i(function(){var d=s("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(n,o,t){var i=t("e8b5"),s=t("50c4"),d=t("0366"),u=function(c,f,p,v,h,y,S,w){for(var C=h,I=0,b=S?d(S,w,3):!1,m;I<v;){if(I in p){if(m=b?b(p[I],I,f):p[I],y>0&&i(m))C=u(c,f,m,s(m.length),C,y-1)-1;else{if(C>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[C]=m}C++}I++}return C};n.exports=u},a352:function(n,o){n.exports=a},a434:function(n,o,t){var i=t("23e7"),s=t("23cb"),d=t("a691"),u=t("50c4"),c=t("7b0b"),f=t("65f0"),p=t("8418"),v=t("1dde"),h=t("ae40"),y=v("splice"),S=h("splice",{ACCESSORS:!0,0:0,1:2}),w=Math.max,C=Math.min,I=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!y||!S},{splice:function(A,O){var g=c(this),T=u(g.length),N=s(A,T),W=arguments.length,F,M,V,R,H,rt;if(W===0?F=M=0:W===1?(F=0,M=T-N):(F=W-2,M=C(w(d(O),0),T-N)),T+F-M>I)throw TypeError(b);for(V=f(g,M),R=0;R<M;R++)H=N+R,H in g&&p(V,R,g[H]);if(V.length=M,F<M){for(R=N;R<T-M;R++)H=R+M,rt=R+F,H in g?g[rt]=g[H]:delete g[rt];for(R=T;R>T-M+F;R--)delete g[R-1]}else if(F>M)for(R=T-M;R>N;R--)H=R+M-1,rt=R+F-1,H in g?g[rt]=g[H]:delete g[rt];for(R=0;R<F;R++)g[R+N]=arguments[R+2];return g.length=T-M+F,V}})},a4d3:function(n,o,t){var i=t("23e7"),s=t("da84"),d=t("d066"),u=t("c430"),c=t("83ab"),f=t("4930"),p=t("fdbf"),v=t("d039"),h=t("5135"),y=t("e8b5"),S=t("861d"),w=t("825a"),C=t("7b0b"),I=t("fc6a"),b=t("c04e"),m=t("5c6c"),A=t("7c73"),O=t("df75"),g=t("241c"),T=t("057f"),N=t("7418"),W=t("06cf"),F=t("9bf2"),M=t("d1e7"),V=t("9112"),R=t("6eeb"),H=t("5692"),rt=t("f772"),lt=t("d012"),Dt=t("90e3"),vt=t("b622"),ht=t("e538"),Et=t("746f"),Ot=t("d44e"),St=t("69f3"),dt=t("b727").forEach,ft=rt("hidden"),Gt="Symbol",Mt="prototype",oe=vt("toPrimitive"),pe=St.set,se=St.getterFor(Gt),It=Object[Mt],Ct=s.Symbol,ve=d("JSON","stringify"),_t=W.f,te=F.f,tn=T.f,En=M.f,Yt=H("symbols"),le=H("op-symbols"),we=H("string-to-symbol-registry"),Fe=H("symbol-to-string-registry"),Re=H("wks"),Me=s.QObject,Le=!Me||!Me[Mt]||!Me[Mt].findChild,Ne=c&&v(function(){return A(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!=7})?function(J,G,Y){var et=_t(It,G);et&&delete It[G],te(J,G,Y),et&&J!==It&&te(It,G,et)}:te,je=function(J,G){var Y=Yt[J]=A(Ct[Mt]);return pe(Y,{type:Gt,tag:J,description:G}),c||(Y.description=G),Y},E=p?function(J){return typeof J=="symbol"}:function(J){return Object(J)instanceof Ct},x=function(G,Y,et){G===It&&x(le,Y,et),w(G);var nt=b(Y,!0);return w(et),h(Yt,nt)?(et.enumerable?(h(G,ft)&&G[ft][nt]&&(G[ft][nt]=!1),et=A(et,{enumerable:m(0,!1)})):(h(G,ft)||te(G,ft,m(1,{})),G[ft][nt]=!0),Ne(G,nt,et)):te(G,nt,et)},D=function(G,Y){w(G);var et=I(Y),nt=O(et).concat(ot(et));return dt(nt,function($t){(!c||B.call(et,$t))&&x(G,$t,et[$t])}),G},P=function(G,Y){return Y===void 0?A(G):D(A(G),Y)},B=function(G){var Y=b(G,!0),et=En.call(this,Y);return this===It&&h(Yt,Y)&&!h(le,Y)?!1:et||!h(this,Y)||!h(Yt,Y)||h(this,ft)&&this[ft][Y]?et:!0},k=function(G,Y){var et=I(G),nt=b(Y,!0);if(!(et===It&&h(Yt,nt)&&!h(le,nt))){var $t=_t(et,nt);return $t&&h(Yt,nt)&&!(h(et,ft)&&et[ft][nt])&&($t.enumerable=!0),$t}},q=function(G){var Y=tn(I(G)),et=[];return dt(Y,function(nt){!h(Yt,nt)&&!h(lt,nt)&&et.push(nt)}),et},ot=function(G){var Y=G===It,et=tn(Y?le:I(G)),nt=[];return dt(et,function($t){h(Yt,$t)&&(!Y||h(It,$t))&&nt.push(Yt[$t])}),nt};if(f||(Ct=function(){if(this instanceof Ct)throw TypeError("Symbol is not a constructor");var G=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Y=Dt(G),et=function(nt){this===It&&et.call(le,nt),h(this,ft)&&h(this[ft],Y)&&(this[ft][Y]=!1),Ne(this,Y,m(1,nt))};return c&&Le&&Ne(It,Y,{configurable:!0,set:et}),je(Y,G)},R(Ct[Mt],"toString",function(){return se(this).tag}),R(Ct,"withoutSetter",function(J){return je(Dt(J),J)}),M.f=B,F.f=x,W.f=k,g.f=T.f=q,N.f=ot,ht.f=function(J){return je(vt(J),J)},c&&(te(Ct[Mt],"description",{configurable:!0,get:function(){return se(this).description}}),u||R(It,"propertyIsEnumerable",B,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Ct}),dt(O(Re),function(J){Et(J)}),i({target:Gt,stat:!0,forced:!f},{for:function(J){var G=String(J);if(h(we,G))return we[G];var Y=Ct(G);return we[G]=Y,Fe[Y]=G,Y},keyFor:function(G){if(!E(G))throw TypeError(G+" is not a symbol");if(h(Fe,G))return Fe[G]},useSetter:function(){Le=!0},useSimple:function(){Le=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!c},{create:P,defineProperty:x,defineProperties:D,getOwnPropertyDescriptor:k}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:q,getOwnPropertySymbols:ot}),i({target:"Object",stat:!0,forced:v(function(){N.f(1)})},{getOwnPropertySymbols:function(G){return N.f(C(G))}}),ve){var bt=!f||v(function(){var J=Ct();return ve([J])!="[null]"||ve({a:J})!="{}"||ve(Object(J))!="{}"});i({target:"JSON",stat:!0,forced:bt},{stringify:function(G,Y,et){for(var nt=[G],$t=1,On;arguments.length>$t;)nt.push(arguments[$t++]);if(On=Y,!(!S(Y)&&G===void 0||E(G)))return y(Y)||(Y=function(Er,en){if(typeof On=="function"&&(en=On.call(this,Er,en)),!E(en))return en}),nt[1]=Y,ve.apply(null,nt)}})}Ct[Mt][oe]||V(Ct[Mt],oe,Ct[Mt].valueOf),Ot(Ct,Gt),lt[ft]=!0},a630:function(n,o,t){var i=t("23e7"),s=t("4df4"),d=t("1c7e"),u=!d(function(c){Array.from(c)});i({target:"Array",stat:!0,forced:u},{from:s})},a640:function(n,o,t){var i=t("d039");n.exports=function(s,d){var u=[][s];return!!u&&i(function(){u.call(null,d||function(){throw 1},1)})}},a691:function(n,o){var t=Math.ceil,i=Math.floor;n.exports=function(s){return isNaN(s=+s)?0:(s>0?i:t)(s)}},ab13:function(n,o,t){var i=t("b622"),s=i("match");n.exports=function(d){var u=/./;try{"/./"[d](u)}catch{try{return u[s]=!1,"/./"[d](u)}catch{}}return!1}},ac1f:function(n,o,t){var i=t("23e7"),s=t("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(n,o,t){var i=t("825a");n.exports=function(){var s=i(this),d="";return s.global&&(d+="g"),s.ignoreCase&&(d+="i"),s.multiline&&(d+="m"),s.dotAll&&(d+="s"),s.unicode&&(d+="u"),s.sticky&&(d+="y"),d}},ae40:function(n,o,t){var i=t("83ab"),s=t("d039"),d=t("5135"),u=Object.defineProperty,c={},f=function(p){throw p};n.exports=function(p,v){if(d(c,p))return c[p];v||(v={});var h=[][p],y=d(v,"ACCESSORS")?v.ACCESSORS:!1,S=d(v,0)?v[0]:f,w=d(v,1)?v[1]:void 0;return c[p]=!!h&&!s(function(){if(y&&!i)return!0;var C={length:-1};y?u(C,1,{enumerable:!0,get:f}):C[1]=1,h.call(C,S,w)})}},ae93:function(n,o,t){var i=t("e163"),s=t("9112"),d=t("5135"),u=t("b622"),c=t("c430"),f=u("iterator"),p=!1,v=function(){return this},h,y,S;[].keys&&(S=[].keys(),"next"in S?(y=i(i(S)),y!==Object.prototype&&(h=y)):p=!0),h==null&&(h={}),!c&&!d(h,f)&&s(h,f,v),n.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:p}},b041:function(n,o,t){var i=t("00ee"),s=t("f5df");n.exports=i?{}.toString:function(){return"[object "+s(this)+"]"}},b0c0:function(n,o,t){var i=t("83ab"),s=t("9bf2").f,d=Function.prototype,u=d.toString,c=/^\s*function ([^ (]*)/,f="name";i&&!(f in d)&&s(d,f,{configurable:!0,get:function(){try{return u.call(this).match(c)[1]}catch{return""}}})},b622:function(n,o,t){var i=t("da84"),s=t("5692"),d=t("5135"),u=t("90e3"),c=t("4930"),f=t("fdbf"),p=s("wks"),v=i.Symbol,h=f?v:v&&v.withoutSetter||u;n.exports=function(y){return d(p,y)||(c&&d(v,y)?p[y]=v[y]:p[y]=h("Symbol."+y)),p[y]}},b64b:function(n,o,t){var i=t("23e7"),s=t("7b0b"),d=t("df75"),u=t("d039"),c=u(function(){d(1)});i({target:"Object",stat:!0,forced:c},{keys:function(p){return d(s(p))}})},b727:function(n,o,t){var i=t("0366"),s=t("44ad"),d=t("7b0b"),u=t("50c4"),c=t("65f0"),f=[].push,p=function(v){var h=v==1,y=v==2,S=v==3,w=v==4,C=v==6,I=v==5||C;return function(b,m,A,O){for(var g=d(b),T=s(g),N=i(m,A,3),W=u(T.length),F=0,M=O||c,V=h?M(b,W):y?M(b,0):void 0,R,H;W>F;F++)if((I||F in T)&&(R=T[F],H=N(R,F,g),v)){if(h)V[F]=H;else if(H)switch(v){case 3:return!0;case 5:return R;case 6:return F;case 2:f.call(V,R)}else if(w)return!1}return C?-1:S||w?w:V}};n.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(n,o,t){var i=t("861d");n.exports=function(s,d){if(!i(s))return s;var u,c;if(d&&typeof(u=s.toString)=="function"&&!i(c=u.call(s))||typeof(u=s.valueOf)=="function"&&!i(c=u.call(s))||!d&&typeof(u=s.toString)=="function"&&!i(c=u.call(s)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(n,o){n.exports=!1},c6b6:function(n,o){var t={}.toString;n.exports=function(i){return t.call(i).slice(8,-1)}},c6cd:function(n,o,t){var i=t("da84"),s=t("ce4e"),d="__core-js_shared__",u=i[d]||s(d,{});n.exports=u},c740:function(n,o,t){var i=t("23e7"),s=t("b727").findIndex,d=t("44d2"),u=t("ae40"),c="findIndex",f=!0,p=u(c);c in[]&&Array(1)[c](function(){f=!1}),i({target:"Array",proto:!0,forced:f||!p},{findIndex:function(h){return s(this,h,arguments.length>1?arguments[1]:void 0)}}),d(c)},c8ba:function(n,o){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}n.exports=t},c975:function(n,o,t){var i=t("23e7"),s=t("4d64").indexOf,d=t("a640"),u=t("ae40"),c=[].indexOf,f=!!c&&1/[1].indexOf(1,-0)<0,p=d("indexOf"),v=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:f||!p||!v},{indexOf:function(y){return f?c.apply(this,arguments)||0:s(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(n,o,t){var i=t("5135"),s=t("fc6a"),d=t("4d64").indexOf,u=t("d012");n.exports=function(c,f){var p=s(c),v=0,h=[],y;for(y in p)!i(u,y)&&i(p,y)&&h.push(y);for(;f.length>v;)i(p,y=f[v++])&&(~d(h,y)||h.push(y));return h}},caad:function(n,o,t){var i=t("23e7"),s=t("4d64").includes,d=t("44d2"),u=t("ae40"),c=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!c},{includes:function(p){return s(this,p,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(n,o,t){var i=t("da84"),s=t("861d"),d=i.document,u=s(d)&&s(d.createElement);n.exports=function(c){return u?d.createElement(c):{}}},ce4e:function(n,o,t){var i=t("da84"),s=t("9112");n.exports=function(d,u){try{s(i,d,u)}catch{i[d]=u}return u}},d012:function(n,o){n.exports={}},d039:function(n,o){n.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(n,o,t){var i=t("428f"),s=t("da84"),d=function(u){return typeof u=="function"?u:void 0};n.exports=function(u,c){return arguments.length<2?d(i[u])||d(s[u]):i[u]&&i[u][c]||s[u]&&s[u][c]}},d1e7:function(n,o,t){var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,d=s&&!i.call({1:2},1);o.f=d?function(c){var f=s(this,c);return!!f&&f.enumerable}:i},d28b:function(n,o,t){var i=t("746f");i("iterator")},d2bb:function(n,o,t){var i=t("825a"),s=t("3bbe");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,u={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(u,[]),d=u instanceof Array}catch{}return function(p,v){return i(p),s(v),d?c.call(p,v):p.__proto__=v,p}}():void 0)},d3b7:function(n,o,t){var i=t("00ee"),s=t("6eeb"),d=t("b041");i||s(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(n,o,t){var i=t("9bf2").f,s=t("5135"),d=t("b622"),u=d("toStringTag");n.exports=function(c,f,p){c&&!s(c=p?c:c.prototype,u)&&i(c,u,{configurable:!0,value:f})}},d58f:function(n,o,t){var i=t("1c0b"),s=t("7b0b"),d=t("44ad"),u=t("50c4"),c=function(f){return function(p,v,h,y){i(v);var S=s(p),w=d(S),C=u(S.length),I=f?C-1:0,b=f?-1:1;if(h<2)for(;;){if(I in w){y=w[I],I+=b;break}if(I+=b,f?I<0:C<=I)throw TypeError("Reduce of empty array with no initial value")}for(;f?I>=0:C>I;I+=b)I in w&&(y=v(y,w[I],I,S));return y}};n.exports={left:c(!1),right:c(!0)}},d784:function(n,o,t){t("ac1f");var i=t("6eeb"),s=t("d039"),d=t("b622"),u=t("9263"),c=t("9112"),f=d("species"),p=!s(function(){var w=/./;return w.exec=function(){var C=[];return C.groups={a:"7"},C},"".replace(w,"$<a>")!=="7"}),v=function(){return"a".replace(/./,"$0")==="$0"}(),h=d("replace"),y=function(){return/./[h]?/./[h]("a","$0")==="":!1}(),S=!s(function(){var w=/(?:)/,C=w.exec;w.exec=function(){return C.apply(this,arguments)};var I="ab".split(w);return I.length!==2||I[0]!=="a"||I[1]!=="b"});n.exports=function(w,C,I,b){var m=d(w),A=!s(function(){var F={};return F[m]=function(){return 7},""[w](F)!=7}),O=A&&!s(function(){var F=!1,M=/a/;return w==="split"&&(M={},M.constructor={},M.constructor[f]=function(){return M},M.flags="",M[m]=/./[m]),M.exec=function(){return F=!0,null},M[m](""),!F});if(!A||!O||w==="replace"&&!(p&&v&&!y)||w==="split"&&!S){var g=/./[m],T=I(m,""[w],function(F,M,V,R,H){return M.exec===u?A&&!H?{done:!0,value:g.call(M,V,R)}:{done:!0,value:F.call(V,M,R)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),N=T[0],W=T[1];i(String.prototype,w,N),i(RegExp.prototype,m,C==2?function(F,M){return W.call(F,this,M)}:function(F){return W.call(F,this)})}b&&c(RegExp.prototype[m],"sham",!0)}},d81d:function(n,o,t){var i=t("23e7"),s=t("b727").map,d=t("1dde"),u=t("ae40"),c=d("map"),f=u("map");i({target:"Array",proto:!0,forced:!c||!f},{map:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},da84:function(n,o,t){(function(i){var s=function(d){return d&&d.Math==Math&&d};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof i=="object"&&i)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(n,o,t){var i=t("23e7"),s=t("83ab"),d=t("56ef"),u=t("fc6a"),c=t("06cf"),f=t("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(v){for(var h=u(v),y=c.f,S=d(h),w={},C=0,I,b;S.length>C;)b=y(h,I=S[C++]),b!==void 0&&f(w,I,b);return w}})},dbf1:function(n,o,t){(function(i){t.d(o,"a",function(){return d});function s(){return typeof window<"u"?window.console:i.console}var d=s()}).call(this,t("c8ba"))},ddb0:function(n,o,t){var i=t("da84"),s=t("fdbc"),d=t("e260"),u=t("9112"),c=t("b622"),f=c("iterator"),p=c("toStringTag"),v=d.values;for(var h in s){var y=i[h],S=y&&y.prototype;if(S){if(S[f]!==v)try{u(S,f,v)}catch{S[f]=v}if(S[p]||u(S,p,h),s[h]){for(var w in d)if(S[w]!==d[w])try{u(S,w,d[w])}catch{S[w]=d[w]}}}}},df75:function(n,o,t){var i=t("ca84"),s=t("7839");n.exports=Object.keys||function(u){return i(u,s)}},e01a:function(n,o,t){var i=t("23e7"),s=t("83ab"),d=t("da84"),u=t("5135"),c=t("861d"),f=t("9bf2").f,p=t("e893"),v=d.Symbol;if(s&&typeof v=="function"&&(!("description"in v.prototype)||v().description!==void 0)){var h={},y=function(){var m=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),A=this instanceof y?new v(m):m===void 0?v():v(m);return m===""&&(h[A]=!0),A};p(y,v);var S=y.prototype=v.prototype;S.constructor=y;var w=S.toString,C=String(v("test"))=="Symbol(test)",I=/^Symbol\((.*)\)[^)]+$/;f(S,"description",{configurable:!0,get:function(){var m=c(this)?this.valueOf():this,A=w.call(m);if(u(h,m))return"";var O=C?A.slice(7,-1):A.replace(I,"$1");return O===""?void 0:O}}),i({global:!0,forced:!0},{Symbol:y})}},e163:function(n,o,t){var i=t("5135"),s=t("7b0b"),d=t("f772"),u=t("e177"),c=d("IE_PROTO"),f=Object.prototype;n.exports=u?Object.getPrototypeOf:function(p){return p=s(p),i(p,c)?p[c]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?f:null}},e177:function(n,o,t){var i=t("d039");n.exports=!i(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},e260:function(n,o,t){var i=t("fc6a"),s=t("44d2"),d=t("3f8c"),u=t("69f3"),c=t("7dd0"),f="Array Iterator",p=u.set,v=u.getterFor(f);n.exports=c(Array,"Array",function(h,y){p(this,{type:f,target:i(h),index:0,kind:y})},function(){var h=v(this),y=h.target,S=h.kind,w=h.index++;return!y||w>=y.length?(h.target=void 0,{value:void 0,done:!0}):S=="keys"?{value:w,done:!1}:S=="values"?{value:y[w],done:!1}:{value:[w,y[w]],done:!1}},"values"),d.Arguments=d.Array,s("keys"),s("values"),s("entries")},e439:function(n,o,t){var i=t("23e7"),s=t("d039"),d=t("fc6a"),u=t("06cf").f,c=t("83ab"),f=s(function(){u(1)}),p=!c||f;i({target:"Object",stat:!0,forced:p,sham:!c},{getOwnPropertyDescriptor:function(h,y){return u(d(h),y)}})},e538:function(n,o,t){var i=t("b622");o.f=i},e893:function(n,o,t){var i=t("5135"),s=t("56ef"),d=t("06cf"),u=t("9bf2");n.exports=function(c,f){for(var p=s(f),v=u.f,h=d.f,y=0;y<p.length;y++){var S=p[y];i(c,S)||v(c,S,h(f,S))}}},e8b5:function(n,o,t){var i=t("c6b6");n.exports=Array.isArray||function(d){return i(d)=="Array"}},e95a:function(n,o,t){var i=t("b622"),s=t("3f8c"),d=i("iterator"),u=Array.prototype;n.exports=function(c){return c!==void 0&&(s.Array===c||u[d]===c)}},f5df:function(n,o,t){var i=t("00ee"),s=t("c6b6"),d=t("b622"),u=d("toStringTag"),c=s(function(){return arguments}())=="Arguments",f=function(p,v){try{return p[v]}catch{}};n.exports=i?s:function(p){var v,h,y;return p===void 0?"Undefined":p===null?"Null":typeof(h=f(v=Object(p),u))=="string"?h:c?s(v):(y=s(v))=="Object"&&typeof v.callee=="function"?"Arguments":y}},f772:function(n,o,t){var i=t("5692"),s=t("90e3"),d=i("keys");n.exports=function(u){return d[u]||(d[u]=s(u))}},fb15:function(n,o,t){if(t.r(o),typeof window<"u"){var i=window.document.currentScript;{var s=t("8875");i=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var d=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(t.p=d[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function u(E,x,D){return x in E?Object.defineProperty(E,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[x]=D,E}function c(E,x){var D=Object.keys(E);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);x&&(P=P.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),D.push.apply(D,P)}return D}function f(E){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?c(Object(D),!0).forEach(function(P){u(E,P,D[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(D)):c(Object(D)).forEach(function(P){Object.defineProperty(E,P,Object.getOwnPropertyDescriptor(D,P))})}return E}function p(E){if(Array.isArray(E))return E}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function v(E,x){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(E)))){var D=[],P=!0,B=!1,k=void 0;try{for(var q=E[Symbol.iterator](),ot;!(P=(ot=q.next()).done)&&(D.push(ot.value),!(x&&D.length===x));P=!0);}catch(bt){B=!0,k=bt}finally{try{!P&&q.return!=null&&q.return()}finally{if(B)throw k}}return D}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function h(E,x){(x==null||x>E.length)&&(x=E.length);for(var D=0,P=new Array(x);D<x;D++)P[D]=E[D];return P}function y(E,x){if(!!E){if(typeof E=="string")return h(E,x);var D=Object.prototype.toString.call(E).slice(8,-1);if(D==="Object"&&E.constructor&&(D=E.constructor.name),D==="Map"||D==="Set")return Array.from(E);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return h(E,x)}}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(E,x){return p(E)||v(E,x)||y(E,x)||S()}function C(E){if(Array.isArray(E))return h(E)}function I(E){if(typeof Symbol<"u"&&Symbol.iterator in Object(E))return Array.from(E)}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(E){return C(E)||I(E)||y(E)||b()}var A=t("a352"),O=t.n(A);function g(E){E.parentElement!==null&&E.parentElement.removeChild(E)}function T(E,x,D){var P=D===0?E.children[0]:E.children[D-1].nextSibling;E.insertBefore(x,P)}var N=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function W(E){var x=Object.create(null);return function(P){var B=x[P];return B||(x[P]=E(P))}}var F=/-(\w)/g,M=W(function(E){return E.replace(F,function(x,D){return D.toUpperCase()})});t("5db7"),t("73d9");var V=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],rt=[H,V,R].flatMap(function(E){return E}).map(function(E){return"on".concat(E)}),lt={manage:H,manageAndEmit:V,emit:R};function Dt(E){return rt.indexOf(E)!==-1}t("caad"),t("2ca0");var vt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ht(E){return vt.includes(E)}function Et(E){return["transition-group","TransitionGroup"].includes(E)}function Ot(E){return["id","class","role","style"].includes(E)||E.startsWith("data-")||E.startsWith("aria-")||E.startsWith("on")}function St(E){return E.reduce(function(x,D){var P=w(D,2),B=P[0],k=P[1];return x[B]=k,x},{})}function dt(E){var x=E.$attrs,D=E.componentData,P=D===void 0?{}:D,B=St(Object.entries(x).filter(function(k){var q=w(k,2),ot=q[0];return q[1],Ot(ot)}));return f(f({},B),P)}function ft(E){var x=E.$attrs,D=E.callBackBuilder,P=St(Gt(x));Object.entries(D).forEach(function(k){var q=w(k,2),ot=q[0],bt=q[1];lt[ot].forEach(function(J){P["on".concat(J)]=bt(J)})});var B="[data-draggable]".concat(P.draggable||"");return f(f({},P),{},{draggable:B})}function Gt(E){return Object.entries(E).filter(function(x){var D=w(x,2),P=D[0];return D[1],!Ot(P)}).map(function(x){var D=w(x,2),P=D[0],B=D[1];return[M(P),B]}).filter(function(x){var D=w(x,2),P=D[0];return D[1],!Dt(P)})}t("c740");function Mt(E,x){if(!(E instanceof x))throw new TypeError("Cannot call a class as a function")}function oe(E,x){for(var D=0;D<x.length;D++){var P=x[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}function pe(E,x,D){return x&&oe(E.prototype,x),D&&oe(E,D),E}var se=function(x){var D=x.el;return D},It=function(x,D){return x.__draggable_context=D},Ct=function(x){return x.__draggable_context},ve=function(){function E(x){var D=x.nodes,P=D.header,B=D.default,k=D.footer,q=x.root,ot=x.realList;Mt(this,E),this.defaultNodes=B,this.children=[].concat(m(P),m(B),m(k)),this.externalComponent=q.externalComponent,this.rootTransition=q.transition,this.tag=q.tag,this.realList=ot}return pe(E,[{key:"render",value:function(D,P){var B=this.tag,k=this.children,q=this._isRootComponent,ot=q?{default:function(){return k}}:k;return D(B,P,ot)}},{key:"updated",value:function(){var D=this.defaultNodes,P=this.realList;D.forEach(function(B,k){It(se(B),{element:P[k],index:k})})}},{key:"getUnderlyingVm",value:function(D){return Ct(D)}},{key:"getVmIndexFromDomIndex",value:function(D,P){var B=this.defaultNodes,k=B.length,q=P.children,ot=q.item(D);if(ot===null)return k;var bt=Ct(ot);if(bt)return bt.index;if(k===0)return 0;var J=se(B[0]),G=m(q).findIndex(function(Y){return Y===J});return D<G?0:k}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),E}(),_t=t("8bbf");function te(E,x){var D=E[x];return D?D():[]}function tn(E){var x=E.$slots,D=E.realList,P=E.getKey,B=D||[],k=["header","footer"].map(function(Y){return te(x,Y)}),q=w(k,2),ot=q[0],bt=q[1],J=x.item;if(!J)throw new Error("draggable element must have an item slot");var G=B.flatMap(function(Y,et){return J({element:Y,index:et}).map(function(nt){return nt.key=P(Y),nt.props=f(f({},nt.props||{}),{},{"data-draggable":!0}),nt})});if(G.length!==B.length)throw new Error("Item slot must have only one child");return{header:ot,footer:bt,default:G}}function En(E){var x=Et(E),D=!ht(E)&&!x;return{transition:x,externalComponent:D,tag:D?Object(_t.resolveComponent)(E):x?_t.TransitionGroup:E}}function Yt(E){var x=E.$slots,D=E.tag,P=E.realList,B=E.getKey,k=tn({$slots:x,realList:P,getKey:B}),q=En(D);return new ve({nodes:k,root:q,realList:P})}function le(E,x){var D=this;Object(_t.nextTick)(function(){return D.$emit(E.toLowerCase(),x)})}function we(E){var x=this;return function(D,P){if(x.realList!==null)return x["onDrag".concat(E)](D,P)}}function Fe(E){var x=this,D=we.call(this,E);return function(P,B){D.call(x,P,B),le.call(x,E,P)}}var Re=null,Me={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(x){return x}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Le=["update:modelValue","change"].concat(m([].concat(m(lt.manageAndEmit),m(lt.emit)).map(function(E){return E.toLowerCase()}))),Ne=Object(_t.defineComponent)({name:"draggable",inheritAttrs:!1,props:Me,emits:Le,data:function(){return{error:!1}},render:function(){try{this.error=!1;var x=this.$slots,D=this.$attrs,P=this.tag,B=this.componentData,k=this.realList,q=this.getKey,ot=Yt({$slots:x,tag:P,realList:k,getKey:q});this.componentStructure=ot;var bt=dt({$attrs:D,componentData:B});return ot.render(_t.h,bt)}catch(J){return this.error=!0,Object(_t.h)("pre",{style:{color:"red"}},J.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&N.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var x=this;if(!this.error){var D=this.$attrs,P=this.$el,B=this.componentStructure;B.updated();var k=ft({$attrs:D,callBackBuilder:{manageAndEmit:function(bt){return Fe.call(x,bt)},emit:function(bt){return le.bind(x,bt)},manage:function(bt){return we.call(x,bt)}}}),q=P.nodeType===1?P:P.parentElement;this._sortable=new O.a(q,k),this.targetDomElement=q,q.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var x=this.list;return x||this.modelValue},getKey:function(){var x=this.itemKey;return typeof x=="function"?x:function(D){return D[x]}}},watch:{$attrs:{handler:function(x){var D=this._sortable;!D||Gt(x).forEach(function(P){var B=w(P,2),k=B[0],q=B[1];D.option(k,q)})},deep:!0}},methods:{getUnderlyingVm:function(x){return this.componentStructure.getUnderlyingVm(x)||null},getUnderlyingPotencialDraggableComponent:function(x){return x.__draggable_component__},emitChanges:function(x){var D=this;Object(_t.nextTick)(function(){return D.$emit("change",x)})},alterList:function(x){if(this.list){x(this.list);return}var D=m(this.modelValue);x(D),this.$emit("update:modelValue",D)},spliceList:function(){var x=arguments,D=function(B){return B.splice.apply(B,m(x))};this.alterList(D)},updatePosition:function(x,D){var P=function(k){return k.splice(D,0,k.splice(x,1)[0])};this.alterList(P)},getRelatedContextFromMoveEvent:function(x){var D=x.to,P=x.related,B=this.getUnderlyingPotencialDraggableComponent(D);if(!B)return{component:B};var k=B.realList,q={list:k,component:B};if(D!==P&&k){var ot=B.getUnderlyingVm(P)||{};return f(f({},ot),q)}return q},getVmIndexFromDomIndex:function(x){return this.componentStructure.getVmIndexFromDomIndex(x,this.targetDomElement)},onDragStart:function(x){this.context=this.getUnderlyingVm(x.item),x.item._underlying_vm_=this.clone(this.context.element),Re=x.item},onDragAdd:function(x){var D=x.item._underlying_vm_;if(D!==void 0){g(x.item);var P=this.getVmIndexFromDomIndex(x.newIndex);this.spliceList(P,0,D);var B={element:D,newIndex:P};this.emitChanges({added:B})}},onDragRemove:function(x){if(T(this.$el,x.item,x.oldIndex),x.pullMode==="clone"){g(x.clone);return}var D=this.context,P=D.index,B=D.element;this.spliceList(P,1);var k={element:B,oldIndex:P};this.emitChanges({removed:k})},onDragUpdate:function(x){g(x.item),T(x.from,x.item,x.oldIndex);var D=this.context.index,P=this.getVmIndexFromDomIndex(x.newIndex);this.updatePosition(D,P);var B={element:this.context.element,oldIndex:D,newIndex:P};this.emitChanges({moved:B})},computeFutureIndex:function(x,D){if(!x.element)return 0;var P=m(D.to.children).filter(function(ot){return ot.style.display!=="none"}),B=P.indexOf(D.related),k=x.component.getVmIndexFromDomIndex(B),q=P.indexOf(Re)!==-1;return q||!D.willInsertAfter?k:k+1},onDragMove:function(x,D){var P=this.move,B=this.realList;if(!P||!B)return!0;var k=this.getRelatedContextFromMoveEvent(x),q=this.computeFutureIndex(k,x),ot=f(f({},this.context),{},{futureIndex:q}),bt=f(f({},x),{},{relatedContext:k,draggedContext:ot});return P(bt,D)},onDragEnd:function(){Re=null}}}),je=Ne;o.default=je},fb6a:function(n,o,t){var i=t("23e7"),s=t("861d"),d=t("e8b5"),u=t("23cb"),c=t("50c4"),f=t("fc6a"),p=t("8418"),v=t("b622"),h=t("1dde"),y=t("ae40"),S=h("slice"),w=y("slice",{ACCESSORS:!0,0:0,1:2}),C=v("species"),I=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!S||!w},{slice:function(A,O){var g=f(this),T=c(g.length),N=u(A,T),W=u(O===void 0?T:O,T),F,M,V;if(d(g)&&(F=g.constructor,typeof F=="function"&&(F===Array||d(F.prototype))?F=void 0:s(F)&&(F=F[C],F===null&&(F=void 0)),F===Array||F===void 0))return I.call(g,N,W);for(M=new(F===void 0?Array:F)(b(W-N,0)),V=0;N<W;N++,V++)N in g&&p(M,V,g[N]);return M.length=V,M}})},fc6a:function(n,o,t){var i=t("44ad"),s=t("1d80");n.exports=function(d){return i(s(d))}},fdbc:function(n,o){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(n,o,t){var i=t("4930");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(cr);const Ml=di(cr.exports),Ll={class:"btnBox"},Nl=qt({__name:"AddFlowDialog",props:["dialogVisible"],emits:["handleClose","addFlowEmit"],setup(l,{emit:r}){const e=Ze(),a=l,n=r,o=hn([]),t=fe({flowValue:""});Ce(()=>a.dialogVisible,d=>{d&&(e.socket.emit("list_workflows",{page:1,page_size:100}),e.socket.once("list_workflows_response",u=>{o.value=u.workflows}))});const i=()=>{const d=o.value.filter(u=>u.id===t.flowValue)[0];n("addFlowEmit",d),s()},s=()=>{n("handleClose"),t.flowValue=""};return Se(()=>{}),(d,u)=>{const c=wt("el-option"),f=wt("el-select"),p=wt("el-button"),v=wt("el-dialog");return $(),jt(v,{modelValue:a.dialogVisible,"onUpdate:modelValue":u[1]||(u[1]=h=>a.dialogVisible=h),title:"\u6DFB\u52A0\u5DE5\u4F5C\u6D41",width:"40%","before-close":s},{footer:Ft(()=>[j("div",Ll,[st(p,{onClick:s},{default:Ft(()=>u[2]||(u[2]=[ne("\u53D6\u6D88")])),_:1}),st(p,{type:"primary",onClick:i},{default:Ft(()=>u[3]||(u[3]=[ne("\u786E\u8BA4")])),_:1})])]),default:Ft(()=>[st(f,{modelValue:t.flowValue,"onUpdate:modelValue":u[0]||(u[0]=h=>t.flowValue=h),filterable:"",placeholder:"\u8BF7\u9009\u62E9\u5DE5\u4F5C\u6D41",style:{width:"100%"}},{default:Ft(()=>[($(!0),K(Vt,null,Zt(o.value,h=>($(),jt(c,{key:h.id,label:h.name,value:h.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])}}}),jl={class:"flow_page"},$l={style:{display:"flex","justify-content":"space-between"}},Bl={style:{display:"flex"}},Ul=["src"],Vl=["src"],Gl={class:"flow_task_list_box"},Hl={key:0,class:"flow_domain_think"},Kl=["innerHTML"],Wl={key:1,class:"flow_model_box"},Xl={key:0,class:"flow_model_title"},Yl=["innerHTML"],zl={key:2,class:"source_info"},kl=["onClick"],Jl={class:"flow_img"},Ql=["src"],Zl={class:"flow_title"},ql={class:"flow_title_text p_ellipsis"},_l={key:0,class:"flow_title_desc p_ellipsis"},td={key:1,class:"flow_title_desc p_ellipsis"},ed={class:"flow_handle"},nd={class:"flow_task_list_pager_box"},rd={class:"flow_detail_page"},od=qt({__name:"flow",setup(l){const r=Ze(),{proxy:e}=Pe(),a=dr(),n=ui(),o=fe({searchInput:"",flowPage:{total:0,pageNum:1,pageSize:30},showFlowList:!0,flowList:[],flowListTotal:[],flowListFilter:[],currentFlow:{},requiredParams:[],isOrigin:!1,flowDomain:"",flowDesc:"",abortController1:null,abortController2:null,currentFlowIndex:0,loading:!0,uuid:"",addFlowVisible:!1,flowListDialog:[],insertFlowIdx:null,taskMainId:""});Ce(()=>o.flowListFilter,g=>{o.flowList=vi(g)},{deep:!0});const t=()=>{e.mittBus.emit("clearMap",{type:"clearArea"}),r.flows.rememberedFlows=[],r.flows.flowData={},r.flows.nodeIds=[],o.recommendList=[],r.flows.requiredParams=[],r.flows.lastSelectedArea=null,a.push("/task")},i=()=>{window.config.WEBSOCKET_FLOW_URL;const T=`${window.location.href}/agent/socket.io/`;r.socket=ci(T,{withCredentials:!1,transports:["websocket","polling"],query:{user_id:"123"}})},s=()=>{o.isOrigin&&r.socket.on("list_workflows_response",g=>{o.flowList=g.workflows,o.flowListTotal=g.workflows,u(),o.flowPage.total=g.total,g.workflows&&g.workflows.length}),r.socket.on("check_dependencies_response",g=>{g.dependencies_met==!1?Tn.warning(`${g.message}`):o.showFlowList=!1}),r.socket.on("params_required",g=>{g.workflow_id==o.currentFlow.id&&(g.params_required.map(T=>{T.value=""}),r.flows.rememberedFlows[o.currentFlow.id]?r.flows.requiredParams=Lt(r.flows.rememberedFlows[o.currentFlow.id].requiredParams):r.flows.requiredParams=g.params_required)})},d=g=>{o.flowPage.pageNum=g,u()},u=()=>{const g=(o.flowPage.pageNum-1)*30,T=o.flowPage.pageNum*30;o.flowListFilter=o.flowListTotal.slice(g,T)},c=function(){o.abortController1&&o.abortController1.abort(),o.abortController1=null,o.abortController2&&o.abortController2.abort(),o.abortController2=null,o.loading=!1},f=()=>{o.isOrigin?r.socket.emit("list_workflows",{page:1,page_size:100}):(o.abortController1=new AbortController,kn("/task/generate_plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_question:n.query.title,domain_id:o.taskMainId}),signal:o.abortController1.signal,async onopen(g){o.loading=!0},onmessage(g){if(g.event==="end")console.log("--------------------end"),c();else if(g.event==="answer"||g.event=="")try{let T=JSON.parse(g.data);T.status=="processing"&&(o.flowDesc=T.model_output),T.workflow_info_list&&(o.flowList=T.workflow_info_list,o.flowListTotal=T.workflow_info_list,u(),o.flowPage.total=T.workflow_info_list.length)}catch(T){console.log("catch",T)}},onerror(g){console.error(g)},openWhenHidden(){}}))},p=g=>{o.addFlowVisible=!0,o.insertFlowIdx=g},v=g=>{o.insertFlowIdx>=0&&o.insertFlowIdx<=o.flowListFilter.length?(o.flowListFilter.splice(o.insertFlowIdx+1,0,g),o.flowDesc=w(o.flowListFilter),b(!1)):console.error("\u7D22\u5F15\u8D85\u51FA\u8303\u56F4\uFF01")},h=g=>{g>=0&&g<o.flowListFilter.length?(o.flowListFilter.splice(g,1),o.flowDesc=w(o.flowListFilter),b(!1)):console.error("\u7D22\u5F15\u8D85\u51FA\u8303\u56F4\uFF01")},y=()=>{o.flowDesc=w(o.flowListFilter),b(!1)},S=g=>g.join(`
`),w=g=>{let T=[];return g.forEach((N,W)=>{T.push(`${W!==0?`
 `:""}Subtask: ${N.name}\uFF1A${N.remark||N.description}`)}),S(T)},C=(g,T)=>{o.currentFlowIndex=T,o.currentFlow=g,o.isOrigin,r.socket.emit("execute_workflow",{workflow_id:g.id,debug_mode:!0})},I=g=>{g&&g.id?o.flowList.map((T,N)=>{T.id==g.id&&C(T,N)}):o.showFlowList=!0},b=g=>{JSON.parse(localStorage.getItem("isNeedConfirmDomain"))?fi.confirm("\u786E\u8BA4\u8981\u7ED1\u5B9A\u4E1A\u52A1\u57DF\u5417\uFF1F","\u786E\u8BA4\u64CD\u4F5C",{confirmButtonText:"\u786E\u8BA4\u7ED1\u5B9A",cancelButtonText:"\u4E0D\u7ED1\u5B9A",type:"warning"}).then(()=>{m(g,!0)}).catch(()=>{m(g,!1)}):m(g,!0)},m=(g,T)=>{pi({url:"/task/store_qa",method:"POST",data:{domain_id:T?o.taskMainId:"",question:n.query.title,answer:o.flowDesc}}).then(N=>{N.status&&N.status=="success"?(g&&Tn.success("\u4FDD\u5B58\u6210\u529F"),T&&localStorage.setItem("isNeedConfirmDomain",JSON.stringify(!1))):Tn.warning(N.message)})},A=()=>{n.query.domainId||n.query.type=="origin"?(n.query.domainId&&(o.taskMainId=n.query.domainId,localStorage.setItem("isNeedConfirmDomain",JSON.stringify(!1))),s(),f()):O()},O=()=>{o.abortController2=new AbortController,kn("/task/determine_domain_sse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_question:n.query.title}),signal:o.abortController2.signal,async onopen(g){o.loading=!0},onmessage(g){if(g.event==="end")console.log("--------------------end"),c(),s(),f();else if(g.event==="answer"||g.event=="")try{let T=JSON.parse(g.data);T.status==="processing"&&T.data.status==="processing"&&(o.flowDomain=T.data.content),T.status==="processing"&&T.data.status==="completed"&&(o.taskMainId=T.data.content.id)}catch(T){console.log("catch",T)}},onerror(g){console.error(g)},openWhenHidden(){}})};return Gn(()=>{o.abortController1&&c(),o.abortController2&&c()}),Se(()=>{localStorage.setItem("isNeedConfirmDomain",JSON.stringify(!0)),n.query.type=="origin"?o.isOrigin=!0:n.query.type=="item"?o.isOrigin=!1:t(),i(),A(),o.uuid=mi(16,16),window.addEventListener("message",function(g){if(console.log(g),g.origin!=="http://172.34.120.90:38110")return;console.log("Received message from MAIN system:",g.data);const T={type:"response",content:"hi idsp"};window.parent.postMessage(T,"http://172.34.120.90:38110")})}),(g,T)=>{const N=wt("el-tooltip"),W=wt("el-popconfirm"),F=wt("el-scrollbar"),M=wt("el-pagination");return $(),K(Vt,null,[Je(j("div",jl,[j("div",$l,[T[8]||(T[8]=j("div",{class:"flow_page_title color-5198FF"}," \u667A\u80FD\u4F53\u5217\u8868 ",-1)),j("div",Bl,[!o.isOrigin&&!o.loading?($(),K("div",{key:0,class:"flow_detail_content_title_box_return",onClick:T[0]||(T[0]=V=>b(!0)),style:{color:"#1776FF",cursor:"pointer","margin-right":"10px"}},[j("img",{src:X(Qt).getAssetsFile("save.png"),style:{"margin-right":"10px",width:"15px"}},null,8,Ul),T[6]||(T[6]=ne("\u4FDD\u5B58\u4EFB\u52A1\u7F16\u6392 "))])):at("",!0),j("div",{class:"flow_detail_content_title_box_return",onClick:T[1]||(T[1]=V=>t()),style:{color:"#1776FF",cursor:"pointer"}},[j("img",{src:X(Qt).getAssetsFile("flip-left.png"),style:{"margin-right":"10px"}},null,8,Vl),T[7]||(T[7]=ne("\u8FD4\u56DE\u4EFB\u52A1\u5217\u8868 "))])])]),j("div",Gl,[st(F,{style:{height:"100%"},height:"100%"},{default:Ft(()=>[o.flowDomain?($(),K("div",Hl,[T[9]||(T[9]=j("div",{class:"flow_domain_title"},"\u4EFB\u52A1\u57DF\u5206\u6790\uFF1A",-1)),j("div",{class:"flow_domain_content",innerHTML:X(ye)({content:o.flowDomain})},null,8,Kl)])):at("",!0),o.flowDesc&&!o.isOrigin?($(),K("div",Wl,[o.flowDomain?($(),K("div",Xl,"\u4EFB\u52A1\u89C4\u5212\uFF1A")):at("",!0),j("div",{class:"flow_desc",innerHTML:X(ye)({content:o.flowDesc})},null,8,Yl)])):at("",!0),o.isOrigin?at("",!0):($(),K("div",zl,"\u4EE5\u4E0A\u5185\u5BB9\u7531AI\u5927\u6A21\u578B\u751F\u6210")),st(X(Ml),{list:o.flowListFilter,"ghost-class":"ghost",animation:"300",scroll:!0,handle:".defaultTypeTag",onEnd:y},{item:Ft(({element:V,index:R})=>[j("div",{class:"flow_item defaultTypeTag",onClick:H=>C(V,R)},[j("div",Jl,[j("img",{src:X(Qt).getAssetsFile("flow_icon.png")},null,8,Ql),o.isOrigin?at("",!0):($(),K("div",{key:0,class:"index_tag",style:lr({padding:(R+1).toString().length>1?"2px":"2px 5px"})},Tt(R+1),5))]),j("div",Zl,[j("div",ql,Tt(V.name),1),o.isOrigin?($(),K("div",_l,Tt(V.description),1)):($(),K("div",td,Tt(V.remark||V.description),1))]),o.isOrigin?at("",!0):($(),K("div",{key:0,class:"flow_handle_box",onClick:T[4]||(T[4]=dn(()=>{},["stop"]))},[j("div",ed,[st(N,{effect:"dark",content:"\u6DFB\u52A0\u5DE5\u4F5C\u6D41",placement:"top",offset:"-10"},{default:Ft(()=>[j("div",null,[st(X(Ii),{onClick:H=>p(R),style:{color:"#1776ff"}},null,8,["onClick"])])]),_:2},1024),j("div",null,[st(W,{title:"\u662F\u5426\u5220\u9664\u6B64\u5DE5\u4F5C\u6D41\uFF1F",placement:"top-start",onClick:T[3]||(T[3]=dn(()=>{},["stop"])),onConfirm:H=>h(R),style:{outline:"none"}},{reference:Ft(()=>[st(X(Ei),{onClick:T[2]||(T[2]=dn(()=>{},["stop"]))})]),_:2},1032,["onConfirm"])])])]))],8,kl)]),_:1},8,["list"])]),_:1})]),j("div",nd,[st(M,{layout:"total, prev, pager, next",total:o.flowPage.total,"page-number":o.flowPage.pageNum,"page-size":o.flowPage.pageSize,"pager-count":"5",onCurrentChange:d},null,8,["total","page-number","page-size"])])],512),[[Qe,o.showFlowList]]),Je(j("div",rd,[st(ks,{flowData:o.currentFlow,onBackToList:I,isOrigin:o.isOrigin,flowList:o.flowListFilter,currentFlowIndex:o.currentFlowIndex,taskId:o.uuid},null,8,["flowData","isOrigin","flowList","currentFlowIndex","taskId"])],512),[[Qe,!o.showFlowList]]),st(Nl,{dialogVisible:o.addFlowVisible,flowListDialog:o.flowListDialog,onAddFlowEmit:v,onHandleClose:T[5]||(T[5]=V=>o.addFlowVisible=!1)},null,8,["dialogVisible","flowListDialog"])],64)}}});const sd=xe(od,[["__scopeId","data-v-1f92a2bb"]]);export{sd as default};
